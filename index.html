<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stockafella - Investment Knowledge Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #000000;
            --accent: #0066FF;
            --light-gray: #F5F5F5;
            --mid-gray: #E0E0E0;
            --dark-gray: #666666;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark-gray); /* Changed from --primary to --dark-gray */
            background-color: #FFFFFF;
            line-height: 1.5;
            padding-bottom: 60px;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .header {
            padding: 20px 0;
            border-bottom: 1px solid var(--mid-gray);
        }
        
        .logo {
            font-weight: 700;
            font-size: 24px;
            color: var(--primary);
        }
        
        .nav-link {
            padding: 8px 16px;
            font-weight: 500;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .nav-link:hover {
            background-color: var(--light-gray);
        }
        
        .nav-link.active {
            color: var(--accent);
            font-weight: 600;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--light-gray);
            color: var(--primary); /* Ensured section titles use primary color */
        }
        
        .card {
            background: white;
            border-radius: 12px;
            /* border: 1px solid var(--mid-gray); */ /* Removed border */
            overflow: hidden;
            transition: all 0.3s;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.05); /* Added default shadow */
        }
        
        .card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.06), 0 4px 8px rgba(0, 0, 0, 0.05); /* Enhanced hover shadow */
            transform: translateY(-2px);
        }
        
        .card-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--primary); /* Ensured card titles use primary color */
        }
        
        .card-content {
            font-size: 14px;
            color: var(--dark-gray);
        }
        
        .card-tag {
            background-color: var(--light-gray);
            color: var(--dark-gray);
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 100px;
            font-weight: 500;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 6px;
            background-color: var(--light-gray);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--accent);
            border-radius: 3px;
        }
        
        .daily-mission-card {
            border-left: 4px solid var(--accent);
        }
        
        .category-card {
            padding: 20px;
            background: #FAFAFA;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-card:hover {
            background: #F0F0F0;
        }
        
        .category-icon {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 24px;
            color: var(--accent); /* Changed icon color to accent */
        }
        
        .featured-card {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .featured-card-image {
            height: 160px;
            background-color: #F0F0F0; /* Kept existing background */
            display: flex;
            flex-direction: column; /* Stack icon and text vertically */
            align-items: center;
            justify-content: center;
            text-align: center; /* Center text if any */
            font-weight: 600; /* Adjusted font-weight */
            font-size: 16px; /* Adjusted font-size */
            color: var(--dark-gray); /* Text color for title below icon */
        }
        
        .audio-player {
            width: 100%;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            padding: 16px;
        }
        
        .audio-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary); /* Ensured audio titles use primary color */
        }
        
        .audio-description {
            font-size: 14px;
            color: var(--dark-gray);
            margin-bottom: 12px;
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 12px;
        }
        
        .play-button {
            width: 40px;
            height: 40px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
        }
        
        .audio-progress {
            flex-grow: 1;
            height: 4px;
            background: var(--light-gray);
            border-radius: 2px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .audio-progress-bar {
            height: 100%;
            width: 0;
            background: var(--accent);
            border-radius: 2px;
        }
        
        .audio-time {
            font-size: 12px;
            color: var(--dark-gray);
            width: 80px;
            text-align: right;
            flex-shrink: 0;
        }
        
        .streak-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: #FFFFFF;
            border-radius: 12px;
            border: 1px solid var(--mid-gray);
        }
        
        .streak-day {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .streak-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 6px;
            font-size: 12px;
            font-weight: 600;
            background: var(--light-gray);
        }
        
        .streak-circle.active {
            background: var(--accent);
            color: white;
        }
        
        .streak-circle.completed {
            background: #000000;
            color: white;
        }
        
        .streak-label {
            font-size: 10px;
            color: var(--dark-gray);
        }
        
        .mission-list {
            margin-top: 16px;
        }
        
        .mission-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 12px 16px;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--mid-gray);
        }
        
        .mission-checkbox {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--mid-gray);
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }
        
        .mission-checkbox.checked {
            background: var(--accent);
            border-color: var(--accent);
        }
        
        .insight-badge {
            background: #000000;
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 100px;
            margin-left: 6px;
        }

        .waveform {
            width: 100%;
            height: 60px;
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAABkCAYAAAA1u5R1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXZSURBVHgB7d0/bNxGHsDhH40xwGWQIt1ZKHSVm+7SwgUWcFEc4ApXwWGrw1WuEhgngAkfkM5VClcHXxpXAdKogYsUwSDdVSkCpDGQJhmSQ446W38o8WnI5TwPIFjSWiuB+/Hj7OyajUEFNve3BuXDxmzbk3JbbttTO/4rNvO2Nz1t5ct2WXbfHx/NJwAAAPicjcpfbO5tDcvD1y2PeDVfHOX2OGr7ZfnwuvDZlA/z8ml79O7kaF4+/hgAAAAMs/hiZ+to+LC/NarGND90C61/HVYrf5cEdMr9K8hfJJT3SjjfSEM9XLJbCOYAAACwOrPb28PBcDgsD+5XK9jLqsiWr+OiafcORovwPi/h+m2K2eXx+Dh/VD7Obtzp1/rhl9nBfetPAAAASMPs5vbm5VdnZ+XhblW3OK3asl7B+uo7aHcPzj6+O+5f2cxPssiv3nJcjNwBAAAgTSeD2zene88/lMeHg439rBptNYIP6GMGdQAAAFamzKFnKXPZr1YnnxQ1axuwuzkJl157fy+D+uXO0i56OeYt7gAAAERlz8lcDutL3FqB+jLXv+/qJuy1X3lfvoJe7Ont8aF9agAAAERryx6UL5aN05e6anu7q6CNDhMAAIBOmNyar59nPj6X9QX7ddYTrk/ng9ubZ+WSgzKKTwfli9PUXh4AAICYbdx5NMnl1/n7weg4l+t2snDo/YteQ7ieBAAAAJfJxHpuTy5/N9RPQK/rcL0ONxfe//r42tlrX5/LlyVPBwAAgJAMFz9frtsepC9GuKuzW6+3ujcF9YVX3hZz564PFgAAAKgtXO8c3L87Lov0DHIxrRdm534dtGZZ18H6ogAfvjq6XMxL9rswAQAAgCat7J97Pk0R0wZXN8cvrZVdB/bGXveyUn/fbnv95LxM7n+XhwMAAIBVWQvZUV+YrwP3opN+/XGjE98BAADAqnSii97k/PDr25eDH/7tBXYAAABIXVeH16+V4H5+Y/GLY+FsgAAAAJDF2jUvnfbrm8OLi/UXg9E3AAAAEKoQp6a3tgcAAAAQphADujnzAAAAEIGQA7op7wAAABCwkAO6EXcAAAAIWKgB3XR3AAAAiFyoewoH1T+w29zeHJQHO9n2ex4OAAAAnRN6QK9fl9/s3xqUhzn85pcm7da3588/HB8J7AAAANAhoQb0QVmcP2w2pW3cOXhX3xdWBwAAIBqDPnx1Kt31wzxqkV4Wp8/Lw/0k3h0AAADgM6F20FMO6W+Oj8ZlwX7sXQEAAIBOGWTO9eFNe9T78vb48Lj8eOAdAgAAgJaFGtDrwDwoX68ncd2TwfBn7w4AAAC0K9SA/qYM6N/Vr3fvb42q8e6gfLhTnTO9femd/DI7OC5hvXbsvQIAAIB2hLoPek6yV94BAABgRUIeEgcAAAAESkAHAAAAIiCgAwAAABEQ0AEAAIAICOgAAABABAR0AAAAIAICOgAAABABAR0AAACIgIAOAAAAREBABwAAACIgoAMAAAARENABAACACAjoAAAAQASGXVzUyfnhZNUvezIY/lx+7fnnj8fj9EYEAAAAtKfrHfQ3x4fj/X/sz/bvbY3K452q2jiaHx+NJvt39/79+L8/fHPx/NfnZfH+qnyNnfLrnejgAgAAwGp1OqBvfPfDXnm4mNyaX0zubp+Xlfc//+/Xp8nvX+yf7X99Xnfc7xzcv1s+P81vja5y/KwE9Z+EewAAAFiNLnfQB4Ph1f9Bh/K9p4O9Jzu5TPwWH45M8vuj8vH3+XB0lc8DAACAtHU5oN80WE+mw73MQB/k9+tOejWMsXi+Lurbg9HRxu4Pf1z79wcAAIDUdDmgD3I1GMxax757u1P+gSm83z/MLzcf/fXXd1d9W1cDAAAApKbLs7jf5JpXryEAAAAgQV3uoA9yy9fdsTc9AAAASMR/AIsuf7edDZjWAAAAAElFTkSuQmCC');
            background-size: cover;
            background-position: center;
            margin: 8px 0;
            border-radius: 4px;
        }

        /* Added styles for expandable book summaries */
        .book-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .book-summary.expanded {
            max-height: 500px;
        }

        /* Page content sections */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        /* Premium content teaser */
        .premium-overlay {
            position: relative;
        }

        .premium-content {
            position: relative;
        }

        .premium-content::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,1));
            pointer-events: none;
        }

        .premium-badge {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            z-index: 2;
        }

        .premium-badge i {
            margin-right: 6px;
        }

        /* Category page styles */
        .subcategory-item {
            padding: 12px 16px;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--mid-gray);
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .subcategory-item:hover {
            background: var(--light-gray);
        }

        .progress-badge {
            background-color: var(--accent);
            color: white;
            font-size: 12px;
            padding: 2px 10px;
            border-radius: 100px;
            margin-left: auto;
        }

        /* Focus Styles for Accessibility */
        .nav-link:focus,
        .header button:focus, /* Target buttons in header, like Upgrade */
        .play-button:focus,
        .mission-checkbox:focus,
        .category-card:focus,
        .book-card .expand-summary:focus,
        .library-filter:focus,
        .modal-close:focus,
        #upgrade-page .card button:focus,
        .audio-progress:focus-within { /* For the clickable progress bar area */
            outline: 2px solid var(--accent) !important;
            outline-offset: 2px !important;
            /* box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.25); */ /* Optional based on preference */
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <img src="STOCKAFELLA SYMBOL-04wht background.jpg" alt="Stockafella Logo" class="w-10 h-10 mr-3 object-contain">
                    <span class="logo">Stockafella</span>
                </div>
                <nav class="hidden md:flex">
                    <a href="#" class="nav-link" data-page="for-you">For You</a>
                    <a href="#" class="nav-link" data-page="categories">Categories</a>
                    <a href="#" class="nav-link" data-page="library">Library</a>
                    <a href="#" class="nav-link" data-page="progress">Progress</a>
                </nav>
                <div class="flex items-center">
                    <button class="flex items-center px-4 py-2 rounded-md bg-black text-white hover:bg-gray-800" data-page="upgrade" id="upgrade-button-header">
                        <i class="fas fa-crown mr-2"></i>
                        <span>Upgrade</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- For You Page -->
    <main class="container py-8">
        <div class="page-content active" id="for-you-page">
            <!-- Streak & Daily Mission Section -->
            <section class="mb-12">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <h2 class="section-title">Your Daily Streak</h2>
                        <div class="streak-container">
                            <div class="streak-day">
                                <div class="streak-circle completed">
                                    <i class="fas fa-check"></i>
                                </div>
                                <span class="streak-label">Mon</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle completed">
                                    <i class="fas fa-check"></i>
                                </div>
                                <span class="streak-label">Tue</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle active">21</div>
                                <span class="streak-label">Wed</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle">0</div>
                                <span class="streak-label">Thu</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle">0</div>
                                <span class="streak-label">Fri</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle">0</div>
                                <span class="streak-label">Sat</span>
                            </div>
                            <div class="streak-day">
                                <div class="streak-circle">0</div>
                                <span class="streak-label">Sun</span>
                            </div>
                        </div>
                        
                        <h3 class="font-bold text-lg mt-8 mb-4">Your daily mission</h3>
                        <div class="mission-list">
                            <div class="mission-item">
                                <div class="mission-checkbox checked">
                                    <i class="fas fa-check text-xs"></i>
                                </div>
                                <div>
                                    <div class="font-medium">Complete Introduction to Technical Analysis</div>
                                    <div class="text-gray-500 text-sm">5 min read</div>
                                </div>
                            </div>
                            <div class="mission-item">
                                <div class="mission-checkbox checked">
                                    <i class="fas fa-check text-xs"></i>
                                </div>
                                <div>
                                    <div class="font-medium">Listen to Chart Patterns Audio</div>
                                    <div class="text-gray-500 text-sm">2 min listen</div>
                                </div>
                            </div>
                            <div class="mission-item">
                                <div class="mission-checkbox"></div>
                                <div>
                                    <div class="font-medium">Complete the daily quiz</div>
                                    <div class="text-gray-500 text-sm">3 questions</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-6">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium">Daily progress</span>
                                <span class="text-sm font-medium" id="daily-progress">2/3 tasks</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="daily-progress-bar" style="width: 67%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h2 class="section-title">Your Progress</h2>
                        <div class="card p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <h3 class="font-bold text-lg">Weekly Stats</h3>
                                    <p class="text-sm text-gray-500" id="weekly-date-range">May 22 - May 28</p>
                                </div>
                                <span class="bg-black text-white rounded-full px-3 py-1 text-xs font-medium" id="week-number">Week 21</span>
                            </div>
                            
                            <div class="mb-4">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-sm font-medium">Days active</span>
                                    <span class="text-sm font-medium" id="days-active">3/7</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" id="days-active-bar" style="width: 43%"></div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-sm font-medium">Lessons completed</span>
                                    <span class="text-sm font-medium" id="lessons-completed">5/10</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" id="lessons-completed-bar" style="width: 50%"></div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-sm font-medium">Audio minutes</span>
                                    <span class="text-sm font-medium" id="audio-minutes">15/30</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" id="audio-minutes-bar" style="width: 50%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- For You Section -->
            <section class="mb-12">
                <h2 class="section-title" id="for-you">For You</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Featured Card 1 -->
                    <div class="card featured-card" data-article="market-cycles">
                        <div class="featured-card-image">
                            <i class="fas fa-chart-bar fa-2x text-gray-400 mb-2"></i>
                            Stock Market Basics
                        </div>
                        <div class="p-4 flex-grow">
                            <h3 class="card-title">Understanding Market Cycles</h3>
                            <p class="card-content">Learn the four stages of market cycles and how to recognize them to make better investment decisions.</p>
                        </div>
                        <div class="px-4 pb-4 flex justify-between items-center">
                            <span class="card-tag">5 min read</span>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-2">14</span>
                                <i class="fas fa-key text-xs text-gray-500"></i>
                                <span class="insight-badge ml-2">Insight</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Featured Card 2 -->
                    <div class="card featured-card" data-article="support-resistance">
                        <div class="featured-card-image">
                            <i class="fas fa-tools fa-2x text-gray-400 mb-2"></i>
                            Technical Analysis
                        </div>
                        <div class="p-4 flex-grow">
                            <h3 class="card-title">Support & Resistance Explained</h3>
                            <p class="card-content">Discover how to identify key support and resistance levels and use them to plan your entries and exits.</p>
                        </div>
                        <div class="px-4 pb-4 flex justify-between items-center">
                            <span class="card-tag">7 min read</span>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-2">23</span>
                                <i class="fas fa-key text-xs text-gray-500"></i>
                                <span class="insight-badge ml-2">Premium</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Featured Card 3 -->
                    <div class="card featured-card" data-article="financial-statements">
                        <div class="featured-card-image">
                            <i class="fas fa-file-alt fa-2x text-gray-400 mb-2"></i>
                            Fundamental Analysis
                        </div>
                        <div class="p-4 flex-grow">
                            <h3 class="card-title">Reading Financial Statements</h3>
                            <p class="card-content">Master the basics of financial statements to evaluate a company's health before investing.</p>
                        </div>
                        <div class="px-4 pb-4 flex justify-between items-center">
                            <span class="card-tag">6 min read</span>
                            <div class="flex items-center">
                                <span class="text-xs text-gray-500 mr-2">19</span>
                                <i class="fas fa-key text-xs text-gray-500"></i>
                                <span class="insight-badge ml-2">New</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Audio Preview Section -->
            <section class="mb-12">
                <h2 class="section-title">Audio Lessons</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Technical Analysis Audio -->
                    <div class="card p-6">
                        <div class="audio-player">
                            <h3 class="audio-title">Technical Analysis Fundamentals</h3>
                            <p class="audio-description">Learn the three core principles of technical analysis and how to apply them to your trading strategy.</p>
                            <div class="waveform"></div>
                            <div class="audio-controls">
                                <div class="play-button" id="play-technical">
                                    <i class="fas fa-play"></i>
                                </div>
                                <div class="audio-progress" id="progress-technical">
                                    <div class="audio-progress-bar" id="progress-bar-technical"></div>
                                </div>
                                <div class="audio-time" id="time-technical">0:00 / 0:21</div>
                            </div>
                            <audio id="audio-technical" preload="metadata">
                                <source src="Technical%20Analysis.mp3" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                    </div>
                    
                    <!-- Balance Sheet Analysis Audio -->
                    <div class="card p-6">
                        <div class="audio-player">
                            <h3 class="audio-title">Balance Sheet Basics</h3>
                            <p class="audio-description">Understand the key components of a balance sheet and how to evaluate a company's financial health.</p>
                            <div class="waveform"></div>
                            <div class="audio-controls">
                                <div class="play-button" id="play-balance">
                                    <i class="fas fa-play"></i>
                                </div>
                                <div class="audio-progress" id="progress-balance">
                                    <div class="audio-progress-bar" id="progress-bar-balance"></div>
                                </div>
                                <div class="audio-time" id="time-balance">0:00 / 0:22</div>
                            </div>
                            <audio id="audio-balance" preload="metadata">
                                <source src="https://cdn1.genspark.ai/user-upload-image/1/fa8f7aea-65ec-437d-8b4f-da4acae3cf88.mp3" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                    </div>
                    
                    <!-- Chart Patterns Audio -->
                    <div class="card p-6">
                        <div class="audio-player">
                            <h3 class="audio-title">Chart Patterns Explained</h3>
                            <p class="audio-description">Discover how to identify and trade common chart patterns for better market analysis.</p>
                            <div class="waveform"></div>
                            <div class="audio-controls">
                                <div class="play-button" id="play-chart">
                                    <i class="fas fa-play"></i>
                                </div>
                                <div class="audio-progress" id="progress-chart">
                                    <div class="audio-progress-bar" id="progress-bar-chart"></div>
                                </div>
                                <div class="audio-time" id="time-chart">0:00 / 0:21</div>
                            </div>
                            <audio id="audio-chart" preload="metadata">
                                <source src="https://cdn1.genspark.ai/user-upload-image/1/67e00273-f43c-4b81-80f0-8841005b9a59.mp3" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                    </div>
                    
                    <!-- Coming Soon Audio -->
                    <div class="card p-6 bg-gray-50">
                        <div class="audio-player opacity-75">
                            <h3 class="audio-title">Candlestick Patterns <span class="text-xs ml-2 text-gray-500">Coming Soon</span></h3>
                            <p class="audio-description">Learn how to read and interpret Japanese candlestick patterns for better timing of trades.</p>
                            <div class="waveform opacity-50"></div>
                            <div class="audio-controls">
                                <div class="play-button bg-gray-400">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <div class="audio-progress">
                                    <div class="audio-progress-bar" style="width:0%"></div>
                                </div>
                                <div class="audio-time">0:00 / 0:00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Categories Section -->
            <section class="mb-12">
                <h2 class="section-title">Categories</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                    <div class="category-card" data-category="technical-analysis">
                        <div class="category-icon">
                            <i class="fas fa-chart-line text-black"></i>
                        </div>
                        <h3 class="font-medium">Technical Analysis</h3>
                    </div>
                    <div class="category-card" data-category="fundamentals">
                        <div class="category-icon">
                            <i class="fas fa-file-invoice-dollar text-black"></i>
                        </div>
                        <h3 class="font-medium">Fundamentals</h3>
                    </div>
                    <div class="category-card" data-category="risk-management">
                        <div class="category-icon">
                            <i class="fas fa-balance-scale text-black"></i>
                        </div>
                        <h3 class="font-medium">Risk Management</h3>
                    </div>
                    <div class="category-card" data-category="psychology">
                        <div class="category-icon">
                            <i class="fas fa-brain text-black"></i>
                        </div>
                        <h3 class="font-medium">Psychology</h3>
                    </div>
                    <div class="category-card" data-category="options">
                        <div class="category-icon">
                            <i class="fas fa-hand-holding-usd text-black"></i>
                        </div>
                        <h3 class="font-medium">Options</h3>
                    </div>
                    <div class="category-card" data-category="portfolio">
                        <div class="category-icon">
                            <i class="fas fa-chart-pie text-black"></i>
                        </div>
                        <h3 class="font-medium">Portfolio</h3>
                    </div>
                </div>
            </section>

            <!-- Recommended Books Section -->
            <section class="mb-12">
                <h2 class="section-title">Recommended Books</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="card book-card" data-book="trading-zone">
                        <div class="p-4 bg-gray-100 flex flex-col items-center justify-center text-center" style="height: 180px;">
                            <i class="fas fa-book-open fa-2x text-gray-400 mb-2"></i>
                            <div>
                                <div class="font-bold">Trading in the Zone</div>
                                <div class="text-sm text-gray-500">Mark Douglas</div>
                            </div>
                        </div>
                        <div class="p-4">
                            <p class="text-sm text-gray-600">Master the market with the right mindset and psychological approach to trading.</p>
                            <div class="mt-4 flex justify-between">
                                <span class="card-tag">Psychology</span>
                                <span class="text-xs text-gray-500">12 min summary</span>
                            </div>
                            <div class="book-summary mt-4 text-sm text-gray-600">
                                <p class="mb-2">Mark Douglas's "Trading in the Zone" is a seminal work on trading psychology, emphasizing that consistent trading success is more about mindset and emotional control than any specific strategy. Douglas argues that most trading errors stem from psychological issues like fear, greed, and euphoria, rather than a lack of market knowledge.</p><p class="mb-2">Key concepts include developing a probabilistic mindset (understanding that any single trade has an uncertain outcome, but a series of trades with an edge can be profitable), learning to accept risk without emotional discomfort, and achieving a state of objective market analysis. The book guides traders on how to identify and overcome self-sabotaging beliefs and habits to trade more effectively and consistently.</p>
                            </div>
                            <button class="expand-summary mt-3 text-accent text-sm font-medium">Read More</button>
                        </div>
                    </div>
                    
                    <div class="card book-card" data-book="intelligent-investor">
                        <div class="p-4 bg-gray-100 flex flex-col items-center justify-center text-center" style="height: 180px;">
                            <i class="fas fa-book-open fa-2x text-gray-400 mb-2"></i>
                            <div>
                                <div class="font-bold">The Intelligent Investor</div>
                                <div class="text-sm text-gray-500">Benjamin Graham</div>
                            </div>
                        </div>
                        <div class="p-4">
                            <p class="text-sm text-gray-600">The definitive book on value investing strategy and long-term success.</p>
                            <div class="mt-4 flex justify-between">
                                <span class="card-tag">Value Investing</span>
                                <span class="text-xs text-gray-500">15 min summary</span>
                            </div>
                            <div class="book-summary mt-4 text-sm text-gray-600">
                                <p class="mb-2">Often hailed as the bible of value investing, Benjamin Graham's "The Intelligent Investor" lays out a disciplined approach to investing that prioritizes risk management and long-term perspective. Graham introduces the allegorical "Mr. Market," an irrational partner who offers different prices daily, teaching investors to use market fluctuations to their advantage rather than being swayed by them.</p><p class="mb-2">A cornerstone of the book is the "margin of safety" principle – buying securities only when their market price is significantly below their intrinsic value to protect against errors in judgment or market downturns. Graham also distinguishes between the "defensive" investor (focused on safety and avoiding mistakes) and the "enterprising" investor (willing to devote more time to finding exceptional opportunities).</p>
                            </div>
                            <button class="expand-summary mt-3 text-accent text-sm font-medium">Read More</button>
                        </div>
                    </div>
                    
                    <div class="card book-card" data-book="technical-analysis">
                        <div class="p-4 bg-gray-100 flex flex-col items-center justify-center text-center" style="height: 180px;">
                            <i class="fas fa-book-open fa-2x text-gray-400 mb-2"></i>
                            <div>
                                <div class="font-bold">Technical Analysis of Financial Markets</div>
                                <div class="text-sm text-gray-500">John Murphy</div>
                            </div>
                        </div>
                        <div class="p-4">
                            <p class="text-sm text-gray-600">A comprehensive guide to understanding and applying technical analysis.</p>
                            <div class="mt-4 flex justify-between">
                                <span class="card-tag">Technical</span>
                                <span class="text-xs text-gray-500">18 min summary</span>
                            </div>
                            <div class="book-summary mt-4 text-sm text-gray-600">
                                <p class="mb-2">John Murphy's "Technical Analysis of Financial Markets" is widely regarded as a comprehensive reference guide for understanding and applying technical analysis. It covers a vast array of topics, making it suitable for both beginners and experienced traders looking to deepen their knowledge of market behavior through price action and volume.</p><p class="mb-2">Key areas explored include Dow Theory, various chart types (bar, line, candlestick), major chart patterns (reversal and continuation), trend analysis, moving averages, oscillators (like RSI and MACD), and the importance of intermarket analysis – understanding how different asset classes influence each other. The book is known for its clear explanations and numerous chart examples.</p>
                            </div>
                            <button class="expand-summary mt-3 text-accent text-sm font-medium">Read More</button>
                        </div>
                    </div>
                    
                    <div class="card book-card" data-book="one-up">
                        <div class="p-4 bg-gray-100 flex flex-col items-center justify-center text-center" style="height: 180px;">
                            <i class="fas fa-book-open fa-2x text-gray-400 mb-2"></i>
                            <div>
                                <div class="font-bold">One Up on Wall Street</div>
                                <div class="text-sm text-gray-500">Peter Lynch</div>
                            </div>
                        </div>
                        <div class="p-4">
                            <p class="text-sm text-gray-600">How to use what you already know to make money in the market.</p>
                            <div class="mt-4 flex justify-between">
                                <span class="card-tag">Strategy</span>
                                <span class="text-xs text-gray-500">10 min summary</span>
                            </div>
                            <div class="book-summary mt-4 text-sm text-gray-600">
                                <p class="mb-2">Legendary fund manager Peter Lynch's "One Up on Wall Street" champions the idea that individual investors can achieve market success by leveraging their everyday knowledge and observations. Lynch encourages investors to "invest in what you know," suggesting that insights into good companies can often be found from one's own experiences as a consumer or professional.</p><p class="mb-2">He introduces concepts like identifying "tenbaggers" (stocks that increase tenfold in value) and categorizes stocks into types such as slow growers, stalwarts, fast growers, cyclicals, turnarounds, and asset plays, each requiring a different analytical approach. The book is written in an accessible style, aiming to empower amateur investors to make informed decisions.</p>
                            </div>
                            <button class="expand-summary mt-3 text-accent text-sm font-medium">Read More</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Categories Page -->
        <div class="page-content" id="categories-page">
            <section class="mb-8">
                <h2 class="section-title">Categories</h2>
                <div class="mb-8">
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                        <div class="category-card active" data-category-page="technical-analysis">
                            <div class="category-icon">
                                <i class="fas fa-chart-line text-black"></i>
                            </div>
                            <h3 class="font-medium">Technical Analysis</h3>
                        </div>
                        <div class="category-card" data-category-page="fundamentals">
                            <div class="category-icon">
                                <i class="fas fa-file-invoice-dollar text-black"></i>
                            </div>
                            <h3 class="font-medium">Fundamentals</h3>
                        </div>
                        <div class="category-card" data-category-page="risk-management">
                            <div class="category-icon">
                                <i class="fas fa-balance-scale text-black"></i>
                            </div>
                            <h3 class="font-medium">Risk Management</h3>
                        </div>
                        <div class="category-card" data-category-page="psychology">
                            <div class="category-icon">
                                <i class="fas fa-brain text-black"></i>
                            </div>
                            <h3 class="font-medium">Psychology</h3>
                        </div>
                        <div class="category-card" data-category-page="options">
                            <div class="category-icon">
                                <i class="fas fa-hand-holding-usd text-black"></i>
                            </div>
                            <h3 class="font-medium">Options</h3>
                        </div>
                        <div class="category-card" data-category-page="portfolio">
                            <div class="category-icon">
                                <i class="fas fa-chart-pie text-black"></i>
                            </div>
                            <h3 class="font-medium">Portfolio</h3>
                        </div>
                        <div class="category-card" data-category-page="risk-management">
                            <div class="category-icon">
                                <i class="fas fa-shield-alt text-black"></i>
                            </div>
                            <h3 class="font-medium">Risk Management</h3>
                        </div>
                        <div class="category-card" data-category-page="psychology">
                            <div class="category-icon">
                                <i class="fas fa-brain text-black"></i>
                            </div>
                            <h3 class="font-medium">Psychology</h3>
                        </div>
                        <div class="category-card" data-category-page="options">
                            <div class="category-icon">
                                <i class="fas fa-hand-holding-usd text-black"></i>
                            </div>
                            <h3 class="font-medium">Options</h3>
                        </div>
                    </div>
                </div>

                <!-- Category Content - Technical Analysis -->
                <div class="category-content active" id="technical-analysis-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Technical Analysis</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">12</span> lessons available
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4">Technical analysis is a trading discipline employed to evaluate investments and identify trading opportunities by analyzing statistical trends gathered from trading activity, such as price movement and volume. Unlike fundamental analysis, which focuses on a company's financial health and intrinsic value, technical analysis is rooted in the belief that all known information is already reflected in an asset's price, and that historical price patterns and market trends tend to repeat themselves.</p>
                            <p class="mb-4">At its core, technical analysis involves studying price charts and using various tools to forecast future price direction. Common chart types include candlestick charts, bar charts, and line charts, each offering unique insights into price action. Technicians also utilize a wide array of technical indicators, such as moving averages (to identify trend direction), Relative Strength Index (RSI, to gauge overbought/oversold conditions), and MACD (Moving Average Convergence Divergence, to spot momentum changes).</p>
                            <p class="mb-6">The primary goal is to identify discernible patterns and trends—like support and resistance levels, chart formations, and trend continuations or reversals—that can suggest potential trading opportunities. While no single indicator or pattern guarantees success, technical analysis provides a framework for assessing probabilities and managing risk based on historical market behavior.</p>

                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-chart-line mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Chart Patterns</h4>
                                        <p class="text-sm text-gray-500">Learn to identify and trade common chart patterns</p>
                                    </div>
                                    <span class="progress-badge">2/5</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-wave-square mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Indicators</h4>
                                        <p class="text-sm text-gray-500">Master technical indicators and oscillators</p>
                                    </div>
                                    <span class="progress-badge">1/4</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-bars mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Candlestick Patterns</h4>
                                        <p class="text-sm text-gray-500">Japanese candlestick analysis techniques</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-project-diagram mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Trend Analysis</h4>
                                        <p class="text-sm text-gray-500">Techniques for identifying and following trends</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Deep Dive: Support & Resistance</h3>
                                    <p class="card-content mb-2">Support and resistance are two of the most fundamental and widely used concepts in technical analysis. <strong>Support</strong> refers to a price level or zone where an asset's price tends to stop falling and may even bounce back up. This "floor" is created by a concentration of buying interest (demand) that overcomes selling pressure.</p>
                                    <p class="card-content mb-2">Conversely, <strong>resistance</strong> is a price level or zone where an asset's price tends to stop rising and may reverse downwards. This "ceiling" forms due to a concentration of selling interest (supply) that overcomes buying pressure. These levels arise from market psychology and the collective actions of buyers and sellers reacting to historical price points.</p>
                                    <p class="card-content">Identifying these levels is crucial as they represent potential turning points, areas where price might consolidate before its next move, or critical thresholds that, if breached, could signal a significant continuation of the current trend. They help traders make informed decisions about entry, exit, and stop-loss placements.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">Basic</span>
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 mr-2">5 min</span>
                                        <i class="fas fa-eye text-xs text-gray-500"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Recognizing Chart Patterns & Trends</h3>
                                    <p class="card-content mb-2"><strong>Trend analysis</strong> is a core component of technical analysis. An <strong>uptrend</strong> is characterized by a series of higher swing highs and higher swing lows, often visualized by drawing an upward-sloping trendline connecting the lows. A <strong>downtrend</strong> consists of lower swing highs and lower swing lows, with a downward-sloping trendline connecting the highs. A <strong>sideways trend</strong> or channel occurs when price oscillates between relatively stable support and resistance levels.</p>
                                    <p class="card-content"><strong>Chart patterns</strong> are formations that appear on price charts and can signal potential continuations or reversals of trends. Common reversal patterns include the "Head and Shoulders," which may indicate a shift from an uptrend to a downtrend. "Triangles" (ascending, descending, symmetrical) can act as either continuation or reversal patterns depending on their formation and the context of the preceding trend. "Flags" and "Pennants" are typically short-term continuation patterns, suggesting a brief pause before the prevailing trend resumes.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">Intermediate</span>
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 mr-2">8 min</span>
                                        <i class="fas fa-lock text-xs text-gray-500"></i>
                                    </div>
                                </div>
                            </div>

                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2">
                                <i class="fas fa-book mr-2 text-accent"></i>
                                <span>Technical Analysis of Financial Markets</span>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md">
                                <i class="fas fa-video mr-2 text-accent"></i>
                                <span>Chart Pattern Recognition Workshop</span>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Foundations of Technical Analysis</h3>
                                    <p class="card-content mb-2">Technical analysis is built on several core principles. Firstly, <strong>"Market action discounts everything"</strong> assumes that all known information, from company fundamentals to economic factors and market psychology, is already reflected in the asset's price.</p>
                                    <p class="card-content">Secondly, <strong>"Prices move in trends"</strong> suggests that once a trend is established, the future price movement is more likely to be in the same direction than against it. Lastly, <strong>"History tends to repeat itself"</strong> is a key tenet, implying that recurring chart patterns reflect consistent market psychology and can be used to anticipate future movements.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">5 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Completed</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Practical Use of Support Levels</h3>
                                    <p class="card-content mb-2">Support levels can be identified through various methods: looking for <strong>previous reaction lows</strong> where price has bounced before, drawing <strong>uptrend lines</strong> that connect a series of rising lows, or observing where price repeatedly finds buying interest near a specific <strong>moving average</strong>. Some traders also use <strong>Fibonacci retracement levels</strong> as potential support zones.</p>
                                    <p class="card-content">Traders often use support levels as strategic areas to enter <strong>long positions</strong>, anticipating a price bounce. They might also place <strong>stop-loss orders</strong> just below support levels to limit potential losses if the level breaks. A confirmed bounce off a strong support level can be a powerful buy signal.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">7 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Completed</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Practical Use of Resistance Levels</h3>
                                    <p class="card-content mb-2">Resistance levels are identified by looking for <strong>previous reaction highs</strong> where price has previously stalled, drawing <strong>downtrend lines</strong> connecting a series of falling highs, or observing price rejections near key <strong>moving averages</strong>. <strong>Fibonacci extension or retracement levels</strong> can also indicate potential resistance.</p>
                                    <p class="card-content">Traders may use resistance levels as opportunities to enter <strong>short positions</strong> or to <strong>take profits</strong> on existing long positions, anticipating a price reversal or stall. Stop-loss orders for short positions are often placed just above resistance. A failure to break through a strong resistance level can signal a weakening trend.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">10 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Completed</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Category Content - Fundamentals -->
                <div class="category-content hidden" id="fundamentals-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Fundamental Analysis</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">10</span> lessons available
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4">Fundamental analysis is a method of evaluating a security in an attempt to measure its intrinsic value, by examining related economic, financial, and other qualitative and quantitative factors. Fundamental analysts study everything from the overall economy and industry conditions (macroeconomic factors) to the financial condition and management of specific companies (microeconomic factors).</p>
                            <p class="mb-4">The core focus areas include a deep dive into a company's financial statements—assessing metrics like earnings per share (EPS), revenue, cash flow, and debt levels. Beyond the numbers, fundamental analysis also considers qualitative aspects such as the quality of a company's management team, its competitive advantages, brand strength, corporate governance, and the overall industry landscape. </p>
                            <p class="mb-6">The end goal is to determine whether a stock is overvalued or undervalued compared to its current market price. This approach contrasts with technical analysis, which focuses on price patterns and trading volumes rather than a company's underlying financial health or economic conditions.</p>

                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-file-invoice-dollar mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Financial Statements</h4>
                                        <p class="text-sm text-gray-500">Learn to analyze balance sheets, income statements, and cash flow statements</p>
                                    </div>
                                    <span class="progress-badge">2/4</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-calculator mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Financial Ratios</h4>
                                        <p class="text-sm text-gray-500">Master key financial ratios for company valuation</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-industry mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Industry Analysis</h4>
                                        <p class="text-sm text-gray-500">Methods for analyzing industry trends and conditions</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Deep Dive: Key Financial Statements</h3>
                                    <p class="card-content mb-2">The <strong>Balance Sheet</strong> provides a snapshot of a company's assets (what it owns), liabilities (what it owes), and shareholders' equity (its net worth) at a single point in time, governed by the equation: Assets = Liabilities + Equity.</p>
                                    <p class="card-content mb-2">The <strong>Income Statement (P&L)</strong> reports a company's financial performance over a period. It details revenues, costs like COGS and operating expenses, and ultimately calculates the net income or "bottom line."</p>
                                    <p class="card-content">The <strong>Cash Flow Statement (CFS)</strong> tracks all cash inflows and outflows from operating (day-to-day business), investing (buying/selling assets), and financing activities (debt, equity, dividends), showing how a company generates and uses cash.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">Basic</span>
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 mr-2">6 min</span>
                                        <i class="fas fa-eye text-xs text-gray-500"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Trading on News & Corporate Events</h3>
                                    <p class="card-content mb-2">Fundamental traders often find opportunities around significant company news. <strong>Earnings announcements</strong> are critical; deviations from market expectations (surprises) can cause substantial short-term price movements. Analyst upgrades or downgrades, especially from reputable firms, can also trigger immediate market reactions.</p>
                                    <p class="card-content">Major corporate events like <strong>stock splits</strong>, <strong>acquisitions/mergers</strong>, and <strong>reorganizations</strong> also attract fundamental traders. The principle of "buy the rumor, sell the news" often applies, where speculation drives price action leading up to an event, and the actual announcement might lead to a different reaction. Astute traders attempt to capture momentum during these speculative phases, being mindful of the increased volatility.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">Advanced</span>
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 mr-2">12 min</span>
                                        <i class="fas fa-lock text-xs text-gray-500"></i>
                                    </div>
                                </div>
                            </div>

                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2">
                                <i class="fas fa-book mr-2 text-accent"></i>
                                <span>Financial Statement Analysis</span>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md">
                                <i class="fas fa-calculator mr-2 text-accent"></i>
                                <span>Valuation Calculator</span>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Core Focus of Fundamental Analysis</h3>
                                    <p class="card-content mb-2">The primary objective of fundamental analysis is to determine a company's true or "intrinsic" value. This involves a thorough examination of its financial health, including profitability, debt load, and cash generation capabilities, as derived from its financial statements.</p>
                                    <p class="card-content">Beyond the company itself, analysts also consider its position within its industry, its competitive landscape, and the broader macroeconomic environment (e.g., interest rates, inflation, economic growth) to form a holistic view of its investment potential.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">6 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Completed</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Beyond the Big Three: Notes & 10-K</h3>
                                    <p class="card-content mb-2">While the Balance Sheet, Income Statement, and Cash Flow Statement are primary, the <strong>Notes to Financial Statements</strong> (footnotes) are critically important. They provide detailed explanations of accounting policies, breakdowns of line items, and other essential context not found in the main statements.</p>
                                    <p class="card-content">For publicly traded U.S. companies, the <strong>10-K annual report</strong>, filed with the SEC, offers even more comprehensive information than the glossy annual report sent to shareholders. It includes detailed business descriptions, risk factors, management discussion and analysis (MD&A), and the audited financial statements with their notes.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">8 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Completed</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Quantitative vs. Qualitative Factors</h3>
                                    <p class="card-content mb-2">Fundamental analysis employs both <strong>quantitative</strong> (measurable, numerical) data and <strong>qualitative</strong> (non-numerical, descriptive) factors. Quantitative aspects include financial ratios (like P/E, Debt-to-Equity), revenue growth rates, profit margins, and other data directly from financial statements.</p>
                                    <p class="card-content">Qualitative factors are equally important and involve assessing aspects like the quality and experience of the company's management team, its brand reputation and recognition, competitive advantages (e.g., patents, network effects), corporate governance standards, and overall industry trends and outlook.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center">
                                    <span class="card-tag">7 min read</span>
                                    <div class="flex items-center">
                                        <i class="fas fa-lock text-xs text-gray-500 mr-1"></i>
                                        <span class="text-xs text-gray-500">Premium</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Category Content - Risk Management -->
                <div class="category-content hidden" id="risk-management-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Risk Management</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">0/8</span> lessons completed <!-- Placeholder count -->
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4">In the world of finance and investing, <strong>risk</strong> refers to the inherent uncertainty that an investment's actual returns will differ from expected returns, including the possibility of losing some or all of the original investment. Understanding and managing risk is a critical component of successful investing and trading, as it helps protect capital and achieve financial goals more consistently.</p>
                            <p class="mb-4">A fundamental concept is the <strong>risk-return tradeoff</strong>: generally, the higher the potential return of an investment, the higher the risk involved. Investors must assess their own risk tolerance to find a suitable balance. Risks can be broadly categorized into two main types: <strong>Systematic risk</strong> (market risk affecting the entire market, e.g., economic downturns, interest rate shifts) and <strong>Unsystematic risk</strong> (specific risk affecting a particular company or industry, e.g., management decisions, competitive pressures).</p>
                            <p class="mb-6">Effective risk management involves identifying these various types of risks, measuring their potential impact, and implementing strategies to mitigate them, such as diversification, hedging, and careful position sizing.</p>
                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-exclamation-triangle mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Understanding Risk Types</h4>
                                        <p class="text-sm text-gray-500">Learn about systematic and unsystematic risks.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-shield-alt mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Risk Mitigation Techniques</h4>
                                        <p class="text-sm text-gray-500">Strategies like diversification and hedging.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-chart-pie mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Portfolio Risk</h4>
                                        <p class="text-sm text-gray-500">Assessing risk at the portfolio level.</p>
                                    </div>
                                    <span class="progress-badge">0/2</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Exploring Types of Financial Risk</h3>
                                    <p class="card-content">Financial risks come in many forms. <strong>Systematic Risk</strong> (or market risk) impacts the entire market (e.g., recessions, interest rate shifts, political instability) and can't be eliminated by diversification. <strong>Unsystematic Risk</strong> is company or industry-specific (e.g., poor management, new competition, product failures) and can be reduced via diversification.<br>
                                    Other key types include: <strong>Business Risk</strong> (a company's ability to make profits), <strong>Credit/Default Risk</strong> (a borrower failing to repay debt), <strong>Interest Rate Risk</strong> (bond values changing with interest rates), and <strong>Liquidity Risk</strong> (difficulty selling an asset quickly without significant price reduction).</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Basic</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">5 min</span><i class="fas fa-eye text-xs text-gray-500"></i></div></div>
                            </div>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Strategies: Diversification & Hedging</h3>
                                    <p class="card-content mb-2"><strong>Diversification</strong> is a core risk management strategy involving spreading investments across various asset classes (stocks, bonds, real estate), industries, and geographic regions. The goal is that if one investment performs poorly, the impact on the overall portfolio is lessened by others performing well, thus reducing unsystematic risk.</p>
                                    <p class="card-content"><strong>Hedging</strong> involves strategies to offset potential losses in an investment by taking an opposing position in a related asset. For example, a farmer might use commodity futures to lock in a price for their crop, or an investor might buy put options to protect a stock holding against a price decline. Hedging can be complex and often involves derivative instruments.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Intermediate</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">8 min</span><i class="fas fa-lock text-xs text-gray-500"></i></div></div>
                            </div>
                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2"><i class="fas fa-book mr-2 text-accent"></i><span>Risk Management Guides</span></div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md"><i class="fas fa-tools mr-2 text-accent"></i><span>Risk Assessment Tools</span></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Deep Dive: Systematic Risk</h3><p class="card-content mb-2">Systematic risk, also known as market risk, is inherent to the entire market or a large market segment. It is undiversifiable, meaning it cannot be eliminated by adding more assets to a portfolio, as it affects all investments to some degree.</p><p class="card-content">Examples include broad economic recessions, significant changes in interest rates by central banks, major political events or instability, widespread inflation, and natural disasters that impact the broader economy. All investors are exposed to systematic risk.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">7 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Deep Dive: Unsystematic Risk</h3><p class="card-content mb-2">Unsystematic risk, also called specific or idiosyncratic risk, is unique to a particular company, industry, or asset class. It is not related to overall market movements and can be significantly mitigated through proper diversification.</p><p class="card-content">Examples include a company's product launch failing, unexpected management changes, a new competitor disrupting an industry, specific regulatory changes affecting a sector (e.g., a new tax on tech companies), or a labor strike at a specific firm. By holding a diversified portfolio, the negative impact of such an event on one holding can be offset by others.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">5 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Practical Risk Control Techniques</h3><p class="card-content"><strong>Stop-Loss Orders:</strong> Sell a security automatically if it drops to a set price, limiting potential loss on a trade. <br><strong>Position Sizing:</strong> Control how much capital is invested in a single trade, ensuring no single loss devastates your portfolio. <br><strong>Risk/Reward Ratio:</strong> Compare the potential profit of a trade to its potential loss before entering, ensuring favorable asymmetry.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">6 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                        </div>
                    </div>
                </div>

                <!-- Category Content - Psychology -->
                <div class="category-content hidden" id="psychology-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Trading Psychology</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">0/9</span> lessons completed
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4"><strong>Trading Psychology</strong> refers to the study of emotions and mental states that significantly influence how traders and investors make decisions, ultimately determining their success or failure in the markets. It's widely recognized that a trader's psychological makeup—their discipline, risk tolerance, and emotional control—is as critical to long-term success as their market knowledge, analytical skills, or chosen strategy.</p>
                            <p class="mb-4">Two of the most powerful emotions driving market behavior are <strong>Fear</strong> and <strong>Greed</strong>. Fear can lead to panic selling during downturns, exiting profitable trades prematurely, or avoiding potentially good opportunities altogether. Greed, on the other hand, can drive traders to take excessive risks, chase unsustainable rallies, over-leverage positions, or hold onto winning trades for too long, hoping for even larger gains. Other emotions like <strong>Hope</strong> (often leading to holding losing positions) and <strong>Regret</strong> (over past losses or missed opportunities) also play significant roles in decision-making.</p>
                            <p class="mb-6">The field of <strong>Behavioral Finance</strong> delves deeper into these aspects, identifying various psychological biases and cognitive errors that affect how individuals interpret information and make financial choices. Understanding these influences is the first step towards mitigating their negative impact and fostering a more rational, disciplined trading approach.</p>
                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-brain mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Cognitive Biases</h4>
                                        <p class="text-sm text-gray-500">Learn to identify common mental shortcuts.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-theater-masks mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Emotional Trading</h4>
                                        <p class="text-sm text-gray-500">Managing fear, greed, and other emotions.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-user-check mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Building Discipline</h4>
                                        <p class="text-sm text-gray-500">Techniques for consistent trading habits.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Key Cognitive Biases in Trading</h3>
                                    <p class="card-content mb-2"><strong>Overconfidence Bias:</strong> This is the tendency for traders to overestimate their knowledge, abilities, and the accuracy of their information. It can lead to excessive trading, underestimating risks, taking on positions that are too large, or ignoring information that contradicts their views.</p>
                                    <p class="card-content mb-2"><strong>Anchoring Bias:</strong> This occurs when individuals rely too heavily on an initial piece of information (the "anchor") when making decisions. For example, a trader might anchor to their purchase price of a stock, influencing their decision to sell or hold, even if current market conditions suggest a different action.</p>
                                    <p class="card-content"><strong>Herd Behavior (Herding):</strong> This bias describes the tendency for individuals to mimic the actions of a larger group, often driven by a desire for conformity or the fear of missing out (FOMO). This can lead to buying into bubbles or selling during panics, without independent analysis.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Basic</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">6 min</span><i class="fas fa-eye text-xs text-gray-500"></i></div></div>
                            </div>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Emotional Pitfalls: Fear, Greed & Regret</h3>
                                    <p class="card-content mb-2"><strong>Fear</strong> is a powerful emotion in trading. It can cause investors to sell positions prematurely during market dips, thereby locking in losses or missing out on potential recoveries. Fear can also manifest as an inability to take valid trades, leading to missed opportunities due to an excessive aversion to risk.</p>
                                    <p class="card-content mb-2"><strong>Greed</strong> often appears during bull markets or after a series of successful trades. It can tempt traders to take on oversized positions, chase "hot" stocks without due diligence, or ignore sell signals in the hope of squeezing out every last bit of profit, often leading to significant losses when the trend reverses.</p>
                                    <p class="card-content"><strong>Regret</strong>, both over past losses and missed opportunities, can also lead to irrational decisions. For instance, a trader might jump into a trade late after missing an initial move (fear of future regret), or conversely, avoid a good setup because a similar past trade resulted in a loss.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Intermediate</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">7 min</span><i class="fas fa-lock text-xs text-gray-500"></i></div></div>
                            </div>
                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2"><i class="fas fa-book-reader mr-2 text-accent"></i><span>Psychology Articles</span></div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md"><i class="fas fa-clipboard-check mr-2 text-accent"></i><span>Discipline Checklist</span></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Understanding Loss Aversion</h3><p class="card-content mb-2">Loss aversion is a cognitive bias where the psychological pain of experiencing a loss is about twice as powerful as the pleasure felt from an equivalent gain. This means investors are often more motivated to avoid losses than to achieve gains.</p><p class="card-content">In trading, this can manifest as holding onto losing positions for too long, hoping they will recover (to avoid realizing the loss), or selling winning trades too early to lock in a small profit (to ensure a gain and avoid the potential pain of it turning into a loss).</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">5 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Mental Accounting & Its Traps</h3><p class="card-content mb-2">Mental accounting is the tendency for individuals to categorize and treat money differently based on its source or intended use, rather than thinking of it as fungible (interchangeable). For example, traders might be more willing to risk "house money" (profits from previous trades) than their initial capital.</p><p class="card-content">This can lead to inconsistent risk management, such as taking on larger, riskier trades with recent profits, or being overly conservative with other portions of their capital. Recognizing that all capital is the same can lead to more rational decision-making.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">6 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Building Emotional Discipline</h3><p class="card-content">Key strategies include: <br><strong>1. Trading Plan:</strong> Create and strictly follow a plan with defined entry/exit rules and risk limits. <br><strong>2. Stop-Loss Orders:</strong> Use them to pre-define your maximum acceptable loss, removing emotion from exit decisions. <br><strong>3. Trading Journal:</strong> Record trades, rationale, and emotions to identify and learn from patterns. <br><strong>4. Mindfulness & Breaks:</strong> Stay present, take breaks if feeling emotional, and avoid trading under stress.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">8 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                        </div>
                    </div>
                </div>

                <!-- Category Content - Options -->
                <div class="category-content hidden" id="options-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Options Trading</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">0/9</span> lessons completed
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4"><strong>Options</strong> are versatile financial contracts that grant the buyer the right, but not the obligation, to either buy (a "call" option) or sell (a "put" option) an underlying asset at a predetermined price on or before a specific date. These underlying assets can include stocks, exchange-traded funds (ETFs), commodities, or market indexes.</p>
                            <p class="mb-4">Key terms to understand are the <strong>strike price</strong> (the price at which the asset can be bought or sold), the <strong>expiration date</strong> (the last day the option contract is valid), and the <strong>premium</strong> (the cost to purchase the option contract, paid by the buyer to the seller/writer). Options are primarily used by investors and traders for three main reasons: to generate income (e.g., by selling covered calls), to speculate on the future direction of an asset's price with leverage, or to hedge existing positions against potential losses.</p>
                            <p class="mb-6">It's important to note that options are <strong>derivatives</strong>, meaning their value is derived from the value of an underlying asset. This characteristic, along with factors like time decay and volatility, makes options trading complex and requires a good understanding of its mechanics and risks.</p>
                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-arrows-alt-v mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Call & Put Basics</h4>
                                        <p class="text-sm text-gray-500">Understanding the fundamental option types.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-cogs mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Option Strategies</h4>
                                        <p class="text-sm text-gray-500">Exploring spreads, covered calls, etc.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-dollar-sign mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Option Pricing</h4>
                                        <p class="text-sm text-gray-500">Introduction to intrinsic and extrinsic value.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Calls vs. Puts: The Fundamentals</h3>
                                    <p class="card-content mb-2">A <strong>Call Option</strong> gives the holder the right, but not the obligation, to <em>buy</em> an underlying asset at the strike price before or at expiration. Buyers of calls are typically bullish on the asset, hoping its price will rise significantly above the strike price plus the premium paid. The maximum loss for a call buyer is limited to the premium paid, while profit potential is theoretically unlimited as the asset price can rise indefinitely.</p>
                                    <p class="card-content mb-2">A <strong>Put Option</strong> gives the holder the right, but not the obligation, to <em>sell</em> an underlying asset at the strike price before or at expiration. Buyers of puts are generally bearish, expecting the asset's price to fall below the strike price minus the premium. Like calls, the maximum loss for a put buyer is the premium paid. Profit potential is substantial if the price falls, though capped because an asset's price cannot go below zero.</p>
                                    <p class="card-content">Option payoff diagrams are charts used to visually represent these profit and loss scenarios at various underlying asset prices at expiration, helping traders understand the risk/reward profile of an option position.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Basic</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">7 min</span><i class="fas fa-eye text-xs text-gray-500"></i></div></div>
                            </div>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Decoding Option Value: Key Factors</h3>
                                    <p class="card-content mb-2">An option's premium (price) is composed of two main components: intrinsic value and extrinsic (time) value. <strong>Intrinsic Value</strong> is the amount by which an option is "in-the-money." For a call, it's the stock price minus the strike price (if positive); for a put, it's the strike price minus the stock price (if positive). If an option has no intrinsic value, it's "out-of-the-money."</p>
                                    <p class="card-content mb-2"><strong>Time Value (Extrinsic Value)</strong> is the portion of the premium above any intrinsic value. It reflects the probability that the option will become more profitable before expiration. Key factors influencing time value are the <strong>time until expiration</strong> (more time generally means more time value) and the expected <strong>volatility</strong> of the underlying asset (higher volatility means higher time value).</p>
                                    <p class="card-content"><strong>Time Decay (Theta)</strong> refers to the erosion of an option's time value as it approaches expiration; this decay accelerates closer to the expiration date, negatively impacting option buyers and benefiting sellers. <strong>Volatility (Vega)</strong> indicates how much an option's price might change for a 1% change in the underlying's implied volatility; higher volatility generally makes options more expensive.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Basic</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">5 min</span><i class="fas fa-eye text-xs text-gray-500"></i></div></div>
                            </div>
                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2"><i class="fas fa-calculator mr-2 text-accent"></i><span>Options Calculator</span></div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md"><i class="fas fa-stream mr-2 text-accent"></i><span>Strategy Guides</span></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Strategy: Writing Covered Calls</h3><p class="card-content mb-2">Writing (selling) a <strong>covered call</strong> is a popular options strategy often used to generate income from an existing stock position. It involves owning shares of an underlying stock and then selling call options on those same shares.</p><p class="card-content">The premium received from selling the calls provides income. However, this strategy caps the upside profit potential of the stock at the strike price of the sold calls; if the stock price rises above the strike, the shares are likely to be "called away" (sold at the strike price). The risk is that if the stock price falls significantly, the premium received may not offset the loss on the stock.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">8 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Strategy: Buying Protective Puts</h3><p class="card-content mb-2">Buying a <strong>protective put</strong> is a hedging strategy used by investors who own shares of an underlying stock and want to protect against a potential decline in its price. It's like buying insurance for your stock position.</p><p class="card-content">By purchasing a put option, the investor gains the right to sell their stock at the put's strike price, effectively setting a floor for potential losses on the stock. The cost of this protection is the premium paid for the put option. While it limits downside risk, the stock's upside profit potential remains intact, reduced only by the cost of the put.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">10 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Option Moneyness: ITM, ATM, OTM</h3><p class="card-content mb-2"><strong>In-the-Money (ITM):</strong> A call option is ITM if its strike price is below the current market price of the underlying asset. A put option is ITM if its strike price is above the current market price. ITM options have intrinsic value.</p><p class="card-content mb-2"><strong>At-the-Money (ATM):</strong> An option is ATM if its strike price is (approximately) equal to the current market price of the underlying asset. These options have little to no intrinsic value but can have significant time value.</p><p class="card-content"><strong>Out-of-the-Money (OTM):</strong> A call option is OTM if its strike price is above the current market price. A put option is OTM if its strike price is below the current market price. OTM options have no intrinsic value, only time value.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">7 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                        </div>
                    </div>
                </div>

                <!-- Category Content - Portfolio -->
                <div class="category-content hidden" id="portfolio-content">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Portfolio Management</h2>
                        <div class="text-sm">
                            <span class="font-bold text-accent">0/8</span> lessons completed
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2">
                            <h3 class="font-bold text-lg mb-3">Overview</h3>
                            <p class="mb-4">Portfolio management involves understanding different asset classes (like stocks, bonds, real estate) and how they combine to meet investment goals. Successful investing focuses on balancing risk and reward through strategic asset allocation.</p>
                            <p class="mb-6">Diversification, spreading investments across various assets, is a cornerstone of portfolio management to mitigate risks while aiming for steady growth aligned with your financial objectives.</p>
                            <h3 class="font-bold text-lg mb-3">Subcategories</h3>
                            <div class="space-y-3">
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-chart-pie mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Asset Allocation</h4>
                                        <p class="text-sm text-gray-500">Distributing investments across asset classes.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-random mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Diversification</h4>
                                        <p class="text-sm text-gray-500">Spreading risk across various investments.</p>
                                    </div>
                                    <span class="progress-badge">0/3</span>
                                </div>
                                <div class="subcategory-item flex items-center">
                                    <i class="fas fa-balance-scale mr-3 text-accent"></i>
                                    <div class="flex-grow">
                                        <h4 class="font-medium">Portfolio Rebalancing</h4>
                                        <p class="text-sm text-gray-500">Maintaining your desired asset allocation.</p>
                                    </div>
                                    <span class="progress-badge">0/2</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-3">Featured Lessons</h3>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">Understanding Asset Classes</h3>
                                    <p class="card-content">Learn about major asset classes like stocks (equities), bonds (fixed income), cash, and real estate, and their typical risk/return profiles. A portfolio chart often shows this mix.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Basic</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">5 min</span><i class="fas fa-eye text-xs text-gray-500"></i></div></div>
                            </div>
                            <div class="card featured-card mb-4">
                                <div class="p-4 flex-grow">
                                    <h3 class="card-title">The Power of Diversification</h3>
                                    <p class="card-content">Diversification reduces risk by spreading investments. If one asset performs poorly, others may offset losses, leading to more stable long-term returns.</p>
                                </div>
                                <div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">Intermediate</span><div class="flex items-center"><span class="text-xs text-gray-500 mr-2">7 min</span><i class="fas fa-lock text-xs text-gray-500"></i></div></div>
                            </div>
                            <h3 class="font-bold text-lg mb-3">Resources</h3>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md mb-2"><i class="fas fa-briefcase mr-2 text-accent"></i><span>Portfolio Models</span></div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-md"><i class="fas fa-tasks mr-2 text-accent"></i><span>Rebalancing Checklist</span></div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h3 class="font-bold text-lg mb-4">Popular Articles</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">What is Modern Portfolio Theory (MPT)?</h3><p class="card-content">MPT suggests optimizing returns for a given risk level through diversification, focusing on how assets perform together, not just individually.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">8 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Building a Balanced Portfolio</h3><p class="card-content">Tips on mixing asset classes like stocks and bonds based on your goals, risk tolerance, and time horizon, plus the need for regular review.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">6 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                            <div class="card"><div class="p-4 flex-grow"><h3 class="card-title">Long-Term Investing Strategies</h3><p class="card-content">Focus on buy-and-hold, dollar-cost averaging, dividend reinvestment, and maintaining diversification for long-term goals like retirement.</p></div><div class="px-4 pb-4 flex justify-between items-center"><span class="card-tag">7 min read</span><div class="flex items-center"><i class="far fa-bookmark text-gray-400 mr-1"></i><span class="text-xs text-gray-500">Save</span></div></div></div>
                        </div>
                    </div>
                </div>
                <!-- Other category content divs would follow the same pattern -->
                <!-- We'll implement just these two as samples -->
            </section>
        </div>
        
        <!-- Library Page -->
        <div class="page-content" id="library-page">
            <section class="mb-8">
                <h2 class="section-title">My Library</h2>
                
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="flex bg-gray-100 rounded-md overflow-hidden">
                            <button class="library-filter active px-4 py-2 text-sm font-medium" data-filter="all">All</button>
                            <button class="library-filter px-4 py-2 text-sm font-medium" data-filter="saved">Saved</button>
                            <button class="library-filter px-4 py-2 text-sm font-medium" data-filter="completed">Completed</button>
                            <button class="library-filter px-4 py-2 text-sm font-medium" data-filter="in-progress">In Progress</button>
                        </div>
                        
                        <div class="ml-auto">
                            <select class="bg-white border border-gray-300 rounded-md px-3 py-1 text-sm">
                                <option>All Categories</option>
                                <option>Technical Analysis</option>
                                <option>Fundamentals</option>
                                <option>Risk Management</option>
                                <option>Psychology</option>
                                <option>Options</option>
                                <option>Portfolio</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="library-content" id="library-all">
                    <h3 class="text-xl font-bold mb-4">Recently Viewed</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <div class="card featured-card">
                            <div class="p-4 flex-grow">
                                <div class="flex items-center mb-2">
                                    <span class="card-tag mr-2">Technical Analysis</span>
                                    <div class="ml-auto">
                                        <i class="fas fa-bookmark text-accent"></i>
                                    </div>
                                </div>
                                <h3 class="card-title">Advanced Chart Patterns</h3>
                                <p class="card-content">Explore complex chart patterns like channels and wedges to refine your technical analysis and identify more nuanced trading signals.</p>
                                <div class="mt-3 flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 rounded-full bg-accent mr-2"></div>
                                        <span class="text-xs text-gray-500">In Progress</span>
                                    </div>
                                    <span class="text-xs text-gray-500">75% complete</span>
                                </div>
                                <div class="mt-2 progress-bar-container">
                                    <div class="progress-bar" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card featured-card">
                            <div class="p-4 flex-grow">
                                <div class="flex items-center mb-2">
                                    <span class="card-tag mr-2">Options</span>
                                    <div class="ml-auto">
                                        <i class="far fa-bookmark text-gray-400"></i>
                                    </div>
                                </div>
                                <h3 class="card-title">Understanding Options Greeks</h3>
                                <p class="card-content">Learn about Delta, Gamma, Theta, and Vega, the 'Greeks' that measure an option's sensitivity to various market factors.</p>
                                <div class="mt-3 flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 rounded-full bg-accent mr-2"></div> {/* Changed bg-green-500 to bg-accent */}
                                        <span class="text-xs text-gray-500">In Progress</span>   {/* Changed Completed to In Progress */}
                                    </div>
                                    <span class="text-xs text-gray-500">50% complete</span> {/* Changed 100% to 50% */}
                                </div>
                                <div class="mt-2 progress-bar-container">
                                    <div class="progress-bar" style="width: 50%"></div> {/* Changed 100% to 50% */}
                                </div>
                            </div>
                        </div>
                        
                        <div class="card featured-card">
                            <div class="p-4 flex-grow">
                                <div class="flex items-center mb-2">
                                    <span class="card-tag mr-2">Portfolio</span>
                                    <div class="ml-auto">
                                        <i class="far fa-bookmark text-gray-400"></i>
                                    </div>
                                </div>
                                <h3 class="card-title">Portfolio Diversification Strategies</h3>
                                <p class="card-content">Discover how to spread your investments across different asset classes to manage risk and potentially improve returns.</p>
                                <div class="mt-3 flex justify-between items-center">
                                    <div class="flex items-center">
                                        <div class="w-4 h-4 rounded-full bg-gray-300 mr-2"></div> {/* Changed bg-accent to bg-gray-300 */}
                                        <span class="text-xs text-gray-500">Not Started</span>   {/* Changed In Progress to Not Started */}
                                    </div>
                                    <span class="text-xs text-gray-500">10% complete</span> {/* Changed 30% to 10% */}
                                </div>
                                <div class="mt-2 progress-bar-container">
                                    <div class="progress-bar" style="width: 10%"></div> {/* Changed 30% to 10% */}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl font-bold mb-4">Audio Lessons</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <div class="card p-6">
                            <div class="audio-player">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 class="audio-title">Technical Analysis Fundamentals</h3>
                                        <p class="audio-description">Learn the three core principles of technical analysis.</p>
                                    </div>
                                    <span class="card-tag">5 min</span>
                                </div>
                                <div class="waveform"></div>
                                <div class="audio-controls">
                                    <div class="play-button" data-audio-id="audio-technical-lib">
                                        <i class="fas fa-play"></i>
                                    </div>
                                    <div class="audio-progress">
                                        <div class="audio-progress-bar" style="width:0%"></div>
                                    </div>
                                    <div class="audio-time">0:00 / 0:21</div>
                                </div>
                                <audio id="audio-technical-lib" preload="metadata">
                                    <source src="https://cdn1.genspark.ai/user-upload-image/1/4b24d41e-05f4-4e98-8f54-abb5f83baaaf.mp3" type="audio/mpeg">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>
                        
                        <div class="card p-6">
                            <div class="audio-player">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 class="audio-title">Balance Sheet Basics</h3>
                                        <p class="audio-description">Understand key components of a balance sheet.</p>
                                    </div>
                                    <span class="card-tag">5 min</span>
                                </div>
                                <div class="waveform"></div>
                                <div class="audio-controls">
                                    <div class="play-button" data-audio-id="audio-balance-lib">
                                        <i class="fas fa-play"></i>
                                    </div>
                                    <div class="audio-progress">
                                        <div class="audio-progress-bar" style="width:0%"></div>
                                    </div>
                                    <div class="audio-time">0:00 / 0:22</div>
                                </div>
                                <audio id="audio-balance-lib" preload="metadata">
                                    <source src="https://cdn1.genspark.ai/user-upload-image/1/fa8f7aea-65ec-437d-8b4f-da4acae3cf88.mp3" type="audio/mpeg">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl font-bold mb-4">Saved Articles</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="card">
                            <div class="p-4 flex-grow">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="card-tag">Risk Management</span> {/* Changed from Psychology to Risk Management - or kept if it was already correct */}
                                    <i class="fas fa-bookmark text-accent"></i>
                                </div>
                                <h3 class="card-title">Position Sizing Strategies</h3> {/* Kept title */}
                                <p class="card-content">Learn crucial techniques for determining the appropriate amount of capital to allocate to each trade, a cornerstone of risk management.</p>
                            </div>
                            <div class="px-4 pb-4 flex justify-between items-center">
                                <span class="text-xs text-gray-500">8 min read</span>
                                <span class="text-xs text-gray-500">Saved 2 days ago</span>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="p-4 flex-grow">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="card-tag">Options</span> {/* Changed from Portfolio to Options */}
                                    <i class="fas fa-bookmark text-accent"></i>
                                </div>
                                <h3 class="card-title">Introduction to Options Chains</h3>
                                <p class="card-content">Understand how to read and interpret an options chain, including strike prices, expiration dates, volume, and open interest.</p>
                            </div>
                            <div class="px-4 pb-4 flex justify-between items-center">
                                <span class="text-xs text-gray-500">12 min read</span>
                                <span class="text-xs text-gray-500">Saved 1 week ago</span>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="p-4 flex-grow">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="card-tag">Psychology</span> {/* Changed from Portfolio to Psychology */}
                                    <i class="fas fa-bookmark text-accent"></i>
                                </div>
                                <h3 class="card-title">Behavioral Finance: Key Biases</h3>
                                <p class="card-content">Explore common psychological biases like anchoring and herd behavior that can impact investment decisions and learn how to recognize them.</p>
                            </div>
                            <div class="px-4 pb-4 flex justify-between items-center">
                                <span class="text-xs text-gray-500">10 min read</span>
                                <span class="text-xs text-gray-500">Saved 2 weeks ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Progress Page -->
        <div class="page-content" id="progress-page">
            <section class="mb-8">
                <h2 class="section-title">Your Progress</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                    <div class="lg:col-span-2">
                        <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <h3 class="font-bold text-lg">Learning Summary</h3>
                                    <p class="text-sm text-gray-500" id="progress-date-range">May 1 - May 28, 2023</p>
                                </div>
                                <select class="bg-white border border-gray-300 rounded-md px-3 py-1 text-sm">
                                    <option>This Month</option>
                                    <option>Last Month</option>
                                    <option>Last 3 Months</option>
                                    <option>This Year</option>
                                </select>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-6 mb-6">
                                <div>
                                    <div class="text-sm font-medium text-gray-500 mb-1">Time spent learning</div>
                                    <div class="text-2xl font-bold">3h 45m</div>
                                    <div class="text-xs text-green-500">+15% from last month</div>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-gray-500 mb-1">Lessons completed</div>
                                    <div class="text-2xl font-bold">12</div>
                                    <div class="text-xs text-green-500">+4 from last month</div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <div class="text-sm font-medium text-gray-500 mb-1">Current streak</div>
                                    <div class="text-2xl font-bold">21 days</div>
                                    <div class="text-xs text-accent">Personal best!</div>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-gray-500 mb-1">Insights unlocked</div>
                                    <div class="text-2xl font-bold">35</div>
                                    <div class="text-xs text-green-500">+10 from last month</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h3 class="font-bold text-lg mb-4">Category Progress</h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Technical Analysis</span>
                                        <span class="text-sm">3/12 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 25%"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Fundamental Analysis</span>
                                        <span class="text-sm">2/10 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 20%"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Risk Management</span>
                                        <span class="text-sm">4/8 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 50%"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Psychology</span>
                                        <span class="text-sm">3/7 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 43%"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Options</span>
                                        <span class="text-sm">0/9 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="font-medium">Portfolio Building</span>
                                        <span class="text-sm">0/6 lessons</span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
                            <h3 class="font-bold text-lg mb-4">Achievements</h3>
                            
                            <div class="grid grid-cols-3 gap-4">
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-accent rounded-full flex items-center justify-center text-white mb-2">
                                        <i class="fas fa-award"></i>
                                    </div>
                                    <span class="text-xs text-center">First Lesson</span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-accent rounded-full flex items-center justify-center text-white mb-2">
                                        <i class="fas fa-fire"></i>
                                    </div>
                                    <span class="text-xs text-center">7-Day Streak</span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-accent rounded-full flex items-center justify-center text-white mb-2">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <span class="text-xs text-center">Technical Pro</span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-accent rounded-full flex items-center justify-center text-white mb-2">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <span class="text-xs text-center">Fundamentalist</span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-400 mb-2">
                                        <i class="fas fa-balance-scale"></i>
                                    </div>
                                    <span class="text-xs text-center text-gray-400">Risk Manager</span>
                                </div>
                                
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-400 mb-2">
                                        <i class="fas fa-brain"></i>
                                    </div>
                                    <span class="text-xs text-center text-gray-400">Psychology Master</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-lg p-6 mb-6">
                            <h3 class="font-bold text-lg mb-4">Goal Setting</h3>
                            
                            <div class="mission-list">
                                <div class="mission-item">
                                    <div class="mission-checkbox"></div>
                                    <div>
                                        <div class="font-medium">Complete Technical Analysis course</div>
                                        <div class="text-gray-500 text-sm">9 lessons remaining</div>
                                    </div>
                                </div>
                                <div class="mission-item">
                                    <div class="mission-checkbox"></div>
                                    <div>
                                        <div class="font-medium">Achieve 30-day streak</div>
                                        <div class="text-gray-500 text-sm">9 days remaining</div>
                                    </div>
                                </div>
                                <div class="mission-item">
                                    <div class="mission-checkbox"></div>
                                    <div>
                                        <div class="font-medium">Listen to all audio lessons</div>
                                        <div class="text-gray-500 text-sm">5 lessons remaining</div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="mt-4 w-full py-2 border border-gray-300 rounded-md text-center text-sm font-medium">
                                <i class="fas fa-plus mr-1"></i>
                                Add New Goal
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white border border-gray-200 rounded-lg p-6">
                    <h3 class="font-bold text-lg mb-4">Recent Activity</h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-book-reader"></i>
                            </div>
                            <div class="ml-4">
                                <div class="font-medium">Completed "Introduction to Technical Analysis"</div>
                                <div class="text-sm text-gray-500">Today at 10:23 AM</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-headphones"></i>
                            </div>
                            <div class="ml-4">
                                <div class="font-medium">Listened to "Chart Patterns Explained"</div>
                                <div class="text-sm text-gray-500">Today at 9:15 AM</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-award"></i>
                            </div>
                            <div class="ml-4">
                                <div class="font-medium">Achieved 21-day streak!</div>
                                <div class="text-sm text-gray-500">Today at 9:00 AM</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-bookmark"></i>
                            </div>
                            <div class="ml-4">
                                <div class="font-medium">Saved "Position Sizing Strategies"</div>
                                <div class="text-sm text-gray-500">Yesterday at 3:45 PM</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-book-reader"></i>
                            </div>
                            <div class="ml-4">
                                <div class="font-medium">Completed "Reading Financial Statements"</div>
                                <div class="text-sm text-gray-500">Yesterday at 2:30 PM</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Upgrade Page -->
        <div class="page-content" id="upgrade-page">
            <section class="py-8">
                <h2 class="section-title">Upgrade Your Plan</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Free Plan -->
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-2">Free</h3>
                        <p class="text-3xl font-bold mb-4">$0<span class="text-sm font-normal text-gray-500">/month</span></p>
                        <ul class="space-y-2 text-sm text-gray-600 mb-6">
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Limited access to articles
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Basic progress tracking
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Community access
                            </li>
                        </ul>
                        <button class="w-full py-2 px-4 bg-gray-200 text-gray-700 rounded-md font-medium" disabled>Current Plan</button>
                    </div>

                    <!-- Premium Plan -->
                    <div class="card p-6 border-2 border-accent shadow-lg">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="text-xl font-bold">Premium</h3>
                            <span class="bg-accent text-white text-xs font-semibold px-3 py-1 rounded-full">Most Popular</span>
                        </div>
                        <p class="text-3xl font-bold mb-4">$9.99<span class="text-sm font-normal text-gray-500">/month</span></p>
                        <ul class="space-y-2 text-sm text-gray-600 mb-6">
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Full access to all articles & courses
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Advanced progress tracking
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Access to audio lessons
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Premium support
                            </li>
                        </ul>
                        <button class="w-full py-2 px-4 bg-accent text-white rounded-md font-medium hover:bg-opacity-90">Upgrade to Premium</button>
                    </div>

                    <!-- Pro Plan -->
                    <div class="card p-6">
                        <h3 class="text-xl font-bold mb-2">Pro</h3>
                        <p class="text-3xl font-bold mb-4">$19.99<span class="text-sm font-normal text-gray-500">/month</span></p>
                        <ul class="space-y-2 text-sm text-gray-600 mb-6">
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                All Premium features
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Downloadable resources
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Access to exclusive webinars/Q&A
                            </li>
                            <li class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                Priority support
                            </li>
                        </ul>
                        <button class="w-full py-2 px-4 bg-black text-white rounded-md font-medium hover:bg-gray-800">Upgrade to Pro</button>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Article Modal Templates -->
        <div id="article-modal-market-cycles" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-lg w-full max-w-4xl max-h-screen overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold">Understanding Market Cycles</h2>
                        <button class="modal-close text-gray-500 hover:text-black">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="premium-overlay">
                        <div class="premium-content">
                            <p class="mb-4">Market cycles, also known as stock market cycles, are broad trends or patterns that emerge during different market or business environments. During these cycles, some securities or asset classes tend to outperform others because their business models are better aligned with conditions for growth. Market cycles are often identified as the period between two latest major highs or lows of a common benchmark, such as the S&P 500, highlighting performance through both an up and a down market.</p>
                            <p class="mb-4">New market cycles can form when trends within a particular sector or industry develop, often in response to meaningful innovation, new products, or significant regulatory changes. This can lead to cyclical growth patterns among many companies within that industry. However, market cycles are often hard to pinpoint precisely until after they have occurred, and rarely have a clearly identifiable beginning or ending point.</p>

                            <h3 class="text-xl font-bold mt-6 mb-3">The Four Phases of Market Cycles</h3>
                            <ol class="list-decimal pl-5 space-y-4 mb-6">
                                <li>
                                    <strong>Accumulation Phase:</strong> This phase typically occurs after the market has bottomed out from a previous decline. While overall market sentiment may still be negative, innovators and early adopters (often smart money investors) begin to buy, believing the worst is over and assets are undervalued. Prices may trade in a range as selling pressure subsides and buying interest gradually increases.
                                </li>
                                <li>
                                    <strong>Mark-up Phase (Uptrend):</strong> Following accumulation, the mark-up phase is when the market begins to consistently move higher in price. Broader investor participation increases as market sentiment improves and positive news becomes more common. Technical indicators often turn bullish, and this phase can last for an extended period, attracting more and more investors.
                                </li>
                                <li>
                                    <strong>Distribution Phase:</strong> This phase marks the peak of the market cycle. As prices reach new highs and sentiment becomes overly optimistic or euphoric, early investors (who bought during accumulation) begin to sell their holdings to take profits. Selling pressure starts to match or exceed buying pressure, and prices may struggle to make new highs, often trading sideways with increased volatility.
                                </li>
                                <li>
                                    <strong>Mark-down Phase (Downtrend):</strong> Once demand is exhausted and selling pressure takes over, the mark-down phase begins, and prices start to tumble. Investor sentiment turns negative, often leading to fear or panic selling. This downtrend continues until prices eventually find a bottom, potentially setting the stage for a new accumulation phase.
                                </li>
                            </ol>
                            <p class="mt-4">It's important to remember that the length of a market cycle can vary significantly, from very short-term (minutes or hours for day traders) to many years for long-term economic or real estate cycles. Additionally, different asset classes and market sectors may react differently during various phases. For example, luxury goods might outperform during strong mark-up phases, while consumer staples (like toothpaste and toilet paper) tend to be more stable during mark-down phases.</p>
                        </div>
                        <div class="premium-badge">
                            <i class="fas fa-lock"></i>
                            <span>Upgrade to Continue Reading</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="article-modal-support-resistance" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-lg w-full max-w-4xl max-h-screen overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold">Support & Resistance Explained</h2>
                        <button class="modal-close text-gray-500 hover:text-black">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="premium-overlay">
                        <div class="premium-content">
                            <p class="mb-4">Support and resistance are fundamental concepts in technical analysis that help traders identify price points on a chart where the probabilities favor a pause or reversal of a prevailing trend. These levels represent zones where the forces of supply and demand meet, creating barriers to price movement.</p>

                            <h3 class="text-xl font-bold mt-6 mb-3">What Is Support?</h3>
                            <p class="mb-4">Support is a price level or zone on a chart below the current market price where buying interest is historically strong enough to overcome selling pressure, causing a downtrend to pause or reverse. Think of it as a 'floor' that props up prices. Support levels often form because buyers perceive value at these lower prices, previous sellers might look to re-enter, and new buyers who missed earlier opportunities decide to step in.</p>
                            
                            <h3 class="text-xl font-bold mt-6 mb-3">What Is Resistance?</h3>
                            <p class="mb-4">Resistance is the opposite of support and represents a price level or zone above the current market price where selling interest is historically strong enough to overcome buying pressure, causing an uptrend to pause or reverse. It acts as a 'ceiling' that caps price advances. Resistance levels typically form as traders who bought at lower prices begin to take profits, new sellers believe the asset is overvalued, or short-sellers initiate positions.</p>
                            
                            <h3 class="text-xl font-bold mt-6 mb-3">Identifying These Levels</h3>
                            <p class="mb-4">Identifying support and resistance levels involves examining historical price charts to find areas where the price has shown a tendency to stop and reverse. Several common methods are used:</p>
                            <ul class="list-disc pl-5 space-y-2 mb-4">
                                <li><strong>Trendlines:</strong> Connecting a series of past lows (for an uptrend support line) or past highs (for a downtrend resistance line) can highlight dynamic support or resistance.</li>
                                <li><strong>Moving Averages:</strong> These indicators smooth out price data and can act as dynamic support in uptrends (e.g., price bouncing off the 50-day MA) or resistance in downtrends.</li>
                                <li><strong>Round Numbers:</strong> Psychologically significant round numbers (e.g., $50, $100) often attract a concentration of buy or sell orders, thus acting as support or resistance.</li>
                                <li><strong>Previous Highs and Lows:</strong> Significant past swing highs can form resistance levels as prices approach them again, while significant past swing lows can act as support.</li>
                            </ul>

                            <h3 class="text-xl font-bold mt-6 mb-3">Trading Implications</h3>
                            <p class="mb-4">Traders use support and resistance levels to make strategic decisions. For example, a price bounce off a strong support level might be considered a buying opportunity, with a stop-loss placed below the support. Conversely, a price rejection at a resistance level could be a signal to sell or short, with a stop-loss above the resistance.</p>
                            <p class="mb-4">When a price breaks decisively through a resistance level, it's known as a breakout and can signal that the uptrend is likely to continue; this broken resistance level may then act as a new support level. Similarly, if a price breaks below a support level (a breakdown), it may indicate further downside, and the broken support can transform into a new resistance level.</p>
                        </div>
                        <div class="premium-badge">
                            <i class="fas fa-lock"></i>
                            <span>Upgrade to Continue Reading</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="article-modal-financial-statements" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-lg w-full max-w-4xl max-h-screen overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold">Reading Financial Statements</h2>
                        <button class="modal-close text-gray-500 hover:text-black">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="premium-overlay">
                        <div class="premium-content">
                            <p class="mb-4">Understanding a company's financial statements is a cornerstone of smart investing, as they act like a company's scorecard, revealing its financial health and performance. For investors, the ability to interpret these documents is crucial for making informed decisions. The three primary financial statements are the Balance Sheet, the Income Statement, and the Cash Flow Statement.</p>

                            <h3 class="text-xl font-bold mt-6 mb-3">The Balance Sheet: A Snapshot</h3>
                            <p class="mb-2">The <strong>Balance Sheet</strong> provides a snapshot of a company's financial position at a specific point in time. It details what a company owns (its assets), what it owes (its liabilities), and the value of the owners' stake (shareholders' equity).</p>
                            <p class="mb-2">The Balance Sheet adheres to the fundamental accounting equation: <strong>Assets = Liabilities + Shareholders' Equity</strong>. This means a company's assets are financed by either debt (liabilities) or equity (shareholders' funds).</p>
                            <p class="mb-4">Key components include:
                                <ul class="list-disc pl-5 space-y-1 mt-1">
                                    <li><strong>Assets:</strong> Resources owned by the company, such as cash, accounts receivable (money owed by customers), inventory, property, plant, and equipment (PP&E).</li>
                                    <li><strong>Liabilities:</strong> Obligations the company owes to others, like accounts payable (money owed to suppliers), loans, and bonds payable.</li>
                                    <li><strong>Shareholders' Equity:</strong> The owners' residual claim on the assets after deducting liabilities. It represents the capital invested by shareholders plus retained earnings.</li>
                                </ul>
                            </p>
                            
                            <h3 class="text-xl font-bold mt-6 mb-3">The Income Statement: Performance Over Time</h3>
                            <p class="mb-2">The <strong>Income Statement</strong>, also known as the Profit and Loss (P&L) statement, reports a company's financial performance over a specific period, such as a quarter or a fiscal year. It shows whether a company made a profit or incurred a loss by detailing revenues and expenses.</p>
                            <p class="mb-4">Key components typically include:
                                <ul class="list-disc pl-5 space-y-1 mt-1">
                                    <li><strong>Revenue (Sales):</strong> Income generated from the company's primary business activities.</li>
                                    <li><strong>Cost of Goods Sold (COGS):</strong> Direct costs attributable to the production of goods sold by a company.</li>
                                    <li><strong>Gross Profit:</strong> Calculated as Revenue minus COGS.</li>
                                    <li><strong>Operating Expenses:</strong> Costs incurred from normal business operations, such as salaries, rent, utilities, and marketing.</li>
                                    <li><strong>Net Income (Profit/Earnings):</strong> Often called the "bottom line," this is the company's profit after all expenses, including taxes and interest, are deducted from total revenue.</li>
                                </ul>
                            </p>

                            <h3 class="text-xl font-bold mt-6 mb-3">The Cash Flow Statement: Tracking the Cash</h3>
                            <p class="mb-2">The <strong>Cash Flow Statement (CFS)</strong> tracks the movement of cash both into and out of a company over a specific period. It's crucial for understanding a company's ability to generate cash to fund operations, make investments, and pay dividends.</p>
                            <p class="mb-4">The CFS is divided into three main sections:
                                <ul class="list-disc pl-5 space-y-1 mt-1">
                                    <li><strong>Operating Activities:</strong> Cash generated from or used in the normal day-to-day running of the business (e.g., cash received from customers, cash paid to suppliers and employees).</li>
                                    <li><strong>Investing Activities:</strong> Cash flows related to the purchase or sale of long-term assets, such as property, plant, equipment, or investments in other companies.</li>
                                    <li><strong>Financing Activities:</strong> Cash flows related to debt, equity, and dividends. This includes issuing or repurchasing stock, taking out or repaying loans, and paying dividends.</li>
                                </ul>
                            </p>

                            <h3 class="text-xl font-bold mt-6 mb-3">The Importance of Notes</h3>
                            <p class="mb-4">The <strong>Notes to Financial Statements</strong> (often called footnotes) are an integral and crucial part of a company's financial reports. These notes provide detailed explanations of the accounting policies adopted by the company, further breakdowns of the numbers presented in the main statements (e.g., details about inventory or debt), and other essential contextual information that might not fit into the statements themselves. Investors should always read these notes carefully for a complete understanding of the company's financial situation.</p>
                        </div>
                        <div class="premium-badge">
                            <i class="fas fa-lock"></i>
                            <span>Upgrade to Continue Reading</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-100 text-center p-6 mt-16 border-t border-gray-200">
        <div class="container mx-auto">
            <img src="STOCKAFELLA SYMBOL-04wht background.jpg" alt="Stockafella Logo" class="w-10 h-10 mx-auto mb-3 object-contain">
            <p class="text-sm text-gray-700">&copy; <span id="current-year"></span> Stockafella. All Rights Reserved.</p>
            <p class="text-xs text-gray-500 mt-2">
                Disclaimer: All information on this site is for educational purposes only and not financial advice.
            </p>
        </div>
    </footer>

    <script>
        // Initialize variables to store user data
        let userData = {
            streak: {
                currentStreak: 21,
                lastLogin: new Date().toDateString(),
                daysActive: ['Mon', 'Tue', 'Wed']
            },
            progress: {
                dailyTasks: [true, true, false], // 2 out of 3 tasks completed
                categories: {
                    'technical-analysis': {
                        completed: 3,
                        total: 12
                    },
                    'fundamentals': {
                        completed: 2,
                        total: 10
                    },
                    'risk-management': {
                        completed: 4,
                        total: 8
                    },
                    'psychology': {
                        completed: 3,
                        total: 7
                    },
                    'options': {
                        completed: 0,
                        total: 9
                    },
                    'portfolio': {
                        completed: 0,
                        total: 6
                    }
                },
                weeklyStats: {
                    daysActive: 3,
                    lessonsCompleted: 5,
                    audioMinutes: 15
                }
            },
            savedArticles: [],
            completedLessons: []
        };
        
        // Load user data from localStorage if available
        function loadUserData() {
            const savedData = localStorage.getItem('stockafellaUserData');
            if (savedData) {
                userData = JSON.parse(savedData);
                
                // Check if it's a new day and update streak accordingly
                const today = new Date().toDateString();
                if (userData.streak.lastLogin !== today) {
                    userData.streak.lastLogin = today;
                    updateStreak();
                    saveUserData();
                }
            }
            updateUI();
        }
        
        // Save user data to localStorage
        function saveUserData() {
            localStorage.setItem('stockafellaUserData', JSON.stringify(userData));
        }
        
        // Update UI based on user data
        function updateUI() {
            // Update daily progress
            const completedTasks = userData.progress.dailyTasks.filter(task => task).length;
            const totalTasks = userData.progress.dailyTasks.length;
            const progressPercent = (completedTasks / totalTasks) * 100;
            
            document.getElementById('daily-progress').textContent = `${completedTasks}/${totalTasks} tasks`;
            document.getElementById('daily-progress-bar').style.width = `${progressPercent}%`;
            
            // Update weekly stats
            document.getElementById('days-active').textContent = `${userData.progress.weeklyStats.daysActive}/7`;
            document.getElementById('days-active-bar').style.width = `${(userData.progress.weeklyStats.daysActive / 7) * 100}%`;
            
            document.getElementById('lessons-completed').textContent = `${userData.progress.weeklyStats.lessonsCompleted}/10`;
            document.getElementById('lessons-completed-bar').style.width = `${(userData.progress.weeklyStats.lessonsCompleted / 10) * 100}%`;
            
            document.getElementById('audio-minutes').textContent = `${userData.progress.weeklyStats.audioMinutes}/30`;
            document.getElementById('audio-minutes-bar').style.width = `${(userData.progress.weeklyStats.audioMinutes / 30) * 100}%`;
            
            // Set dates
            const today = new Date();
            const weekStart = new Date(today);
            weekStart.setDate(today.getDate() - today.getDay() + 1);
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            
            document.getElementById('weekly-date-range').textContent = `${weekStart.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${weekEnd.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}`;
            
            const weekNum = getWeekNumber(today);
            document.getElementById('week-number').textContent = `Week ${weekNum}`;
            
            // Update dates on progress page
            const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);
            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            
            if (document.getElementById('progress-date-range')) {
                document.getElementById('progress-date-range').textContent = `${monthStart.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })} - ${monthEnd.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}, ${today.getFullYear()}`;
            }
        }
        
        // Get week number from date
        function getWeekNumber(d) {
            const date = new Date(d);
            date.setHours(0, 0, 0, 0);
            date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
            const week1 = new Date(date.getFullYear(), 0, 4);
            return 1 + Math.round(((date - week1) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
        }
        
        // Update streak data
        function updateStreak() {
            // Logic to update streak based on daily logins
            // This is a simplified implementation
            userData.streak.currentStreak += 1;
            
            // Update streak visualization
            const streakCircles = document.querySelectorAll('.streak-circle');
            const today = new Date().getDay(); // 0 = Sunday, 6 = Saturday
            const dayIndices = today === 0 ? 6 : today - 1; // Convert to Monday = 0 index
            
            streakCircles[dayIndices].classList.add('active');
            streakCircles[dayIndices].textContent = userData.streak.currentStreak;
            
            for (let i = 0; i < dayIndices; i++) {
                streakCircles[i].classList.add('completed');
                streakCircles[i].innerHTML = '<i class="fas fa-check"></i>';
            }
        }
        
        // Mission checkbox functionality
        function setupMissionCheckboxes() {
            document.querySelectorAll('.mission-checkbox').forEach((checkbox, index) => {
                if (userData.progress.dailyTasks[index]) {
                    checkbox.classList.add('checked');
                    checkbox.innerHTML = '<i class="fas fa-check text-xs"></i>';
                } else {
                    checkbox.classList.remove('checked');
                    checkbox.innerHTML = '';
                }
                
                checkbox.addEventListener('click', () => {
                    checkbox.classList.toggle('checked');
                    if (checkbox.classList.contains('checked')) {
                        checkbox.innerHTML = '<i class="fas fa-check text-xs"></i>';
                        userData.progress.dailyTasks[index] = true;
                    } else {
                        checkbox.innerHTML = '';
                        userData.progress.dailyTasks[index] = false;
                    }
                    
                    // Update progress based on checked items
                    const completedTasks = userData.progress.dailyTasks.filter(task => task).length;
                    const totalTasks = userData.progress.dailyTasks.length;
                    const progressPercent = (completedTasks / totalTasks) * 100;
                    
                    document.getElementById('daily-progress').textContent = `${completedTasks}/${totalTasks} tasks`;
                    document.getElementById('daily-progress-bar').style.width = `${progressPercent}%`;
                    
                    saveUserData();
                });
            });
        }
        
        // Audio Player Functionality
        function setupAudioPlayers() {
            document.querySelectorAll('.play-button').forEach(button => {
                if (!button.dataset.audioId) return; // Skip buttons without audio IDs
                
                const audioId = button.dataset.audioId;
                const audio = document.getElementById(audioId);
                if (!audio) return;
                
                const icon = button.querySelector('i');
                const progressContainer = button.parentElement.querySelector('.audio-progress');
                const progressBar = progressContainer.querySelector('.audio-progress-bar');
                const timeDisplay = button.parentElement.querySelector('.audio-time');
                
                // Format time in MM:SS
                function formatTime(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }
                
                // Update progress bar and time display
                function updateProgress() {
                    const percent = (audio.currentTime / audio.duration) * 100;
                    progressBar.style.width = percent + '%';
                    timeDisplay.textContent = formatTime(audio.currentTime) + ' / ' + formatTime(audio.duration);
                }
                
                button.addEventListener('click', () => {
                    if (audio.paused) {
                        // Pause all other audio elements first
                        document.querySelectorAll('audio').forEach(a => {
                            if (a.id !== audioId && !a.paused) {
                                a.pause();
                                // Reset other play buttons
                                const otherPlayBtn = document.querySelector(`[data-audio-id="${a.id}"]`);
                                if (otherPlayBtn) {
                                    otherPlayBtn.querySelector('i').className = 'fas fa-play';
                                }
                            }
                        });
                        
                        const playPromise = audio.play();
                        if (playPromise !== undefined) {
                            playPromise.then(_ => {
                                // Playback started successfully
                                icon.className = 'fas fa-pause';
                            }).catch(error => {
                                // Playback failed
                                console.error("Error playing audio for ID " + audioId + ":", error);
                                icon.className = 'fas fa-play'; 
                            });
                        }
                    } else {
                        audio.pause();
                        icon.className = 'fas fa-play';
                    }
                });
                
                progressContainer.addEventListener('click', (e) => {
                    const rect = progressContainer.getBoundingClientRect();
                    const pos = (e.clientX - rect.left) / progressContainer.offsetWidth;
                    audio.currentTime = pos * audio.duration;
                    updateProgress();
                });
                
                audio.addEventListener('timeupdate', updateProgress);
                
                audio.addEventListener('ended', () => {
                    icon.className = 'fas fa-play';
                    
                    // Update audio minutes in user data
                    userData.progress.weeklyStats.audioMinutes += Math.ceil(audio.duration / 60);
                    saveUserData();
                    updateUI();
                });
                
                audio.addEventListener('loadedmetadata', () => {
                    timeDisplay.textContent = '0:00 / ' + formatTime(audio.duration);
                });
            });
            
            // Also setup original audio players
            const originalAudioIds = ['audio-technical', 'audio-balance', 'audio-chart'];
            
            originalAudioIds.forEach(audioId => {
                const audio = document.getElementById(audioId);
                if (!audio) return;
                
                const playButton = document.getElementById('play-' + audioId);
                if (!playButton) return;
                
                const icon = playButton.querySelector('i');
                const progressBar = document.getElementById('progress-bar-' + audioId);
                const timeDisplay = document.getElementById('time-' + audioId);
                const progressContainer = document.getElementById('progress-' + audioId);
                
                // Format time in MM:SS
                function formatTime(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }
                
                // Update progress bar and time display
                function updateProgress() {
                    const percent = (audio.currentTime / audio.duration) * 100;
                    progressBar.style.width = percent + '%';
                    timeDisplay.textContent = formatTime(audio.currentTime) + ' / ' + formatTime(audio.duration);
                }
                
                playButton.addEventListener('click', () => {
                    if (audio.paused) {
                        // Pause all other audio elements first
                        originalAudioIds.forEach(id => {
                            if (id !== audioId) {
                                const otherAudio = document.getElementById(id);
                                if (otherAudio && !otherAudio.paused) {
                                    otherAudio.pause();
                                    const otherPlayBtn = document.getElementById('play-' + id);
                                    if (otherPlayBtn) {
                                        otherPlayBtn.querySelector('i').className = 'fas fa-play';
                                    }
                                }
                            }
                        });
                        
                        audio.play();
                        icon.className = 'fas fa-pause';
                    } else {
                        audio.pause();
                        icon.className = 'fas fa-play';
                    }
                });
                
                progressContainer.addEventListener('click', (e) => {
                    const rect = progressContainer.getBoundingClientRect();
                    const pos = (e.clientX - rect.left) / progressContainer.offsetWidth;
                    audio.currentTime = pos * audio.duration;
                });
                
                audio.addEventListener('timeupdate', updateProgress);
                
                audio.addEventListener('ended', () => {
                    icon.className = 'fas fa-play';
                    
                    // Update audio minutes in user data
                    userData.progress.weeklyStats.audioMinutes += Math.ceil(audio.duration / 60);
                    saveUserData();
                    updateUI();
                });
                
                audio.addEventListener('loadedmetadata', () => {
                    timeDisplay.textContent = '0:00 / ' + formatTime(audio.duration);
                });
            });
        }
        
        // Book Summary Expansion
        function setupBookSummaries() {
            document.querySelectorAll('.expand-summary').forEach(button => {
                button.addEventListener('click', () => {
                    const summary = button.previousElementSibling;
                    summary.classList.toggle('expanded');
                    
                    if (summary.classList.contains('expanded')) {
                        button.textContent = 'Read Less';
                    } else {
                        button.textContent = 'Read More';
                    }
                });
            });
        }
        
        // Navigation Functionality
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pageContents = document.querySelectorAll('.page-content');
            const upgradeButton = document.getElementById('upgrade-button-header');

            function showPage(pageId) {
                pageContents.forEach(page => {
                    if (page.id === pageId) {
                        page.classList.add('active');
                    } else {
                        page.classList.remove('active');
                    }
                });
                window.scrollTo(0, 0);
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    navLinks.forEach(navLink => navLink.classList.remove('active'));
                    link.classList.add('active');
                    
                    const pageIdToShow = link.getAttribute('data-page') + '-page';
                    showPage(pageIdToShow);
                });
            });

            if (upgradeButton) {
                upgradeButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    navLinks.forEach(navLink => navLink.classList.remove('active'));
                    // Optionally, style the upgrade button as active or differently
                    // upgradeButton.classList.add('active'); // Example: if you add an active style for it

                    const pageIdToShow = upgradeButton.getAttribute('data-page') + '-page';
                    showPage(pageIdToShow);
                });
            }
            
            // Set initial active page (For You)
            const initialPageLink = document.querySelector('.nav-link[data-page="for-you"]');
            if (initialPageLink) {
                initialPageLink.classList.add('active');
                 // Ensure the correct page is shown on load based on the active link
                const initialPageId = initialPageLink.getAttribute('data-page') + '-page';
                showPage(initialPageId);
            } else {
                // Default to for-you-page if no link is active for some reason
                showPage('for-you-page');
            }
        }
        
        // Category Functionality
        function setupCategories() {
            document.querySelectorAll('.category-card[data-category-page]').forEach(card => {
                card.addEventListener('click', () => {
                    // Update active category card
                    document.querySelectorAll('.category-card[data-category-page]').forEach(c => {
                        c.classList.remove('active');
                    });
                    card.classList.add('active');
                    
                    // Show corresponding category content
                    const categoryId = card.getAttribute('data-category-page') + '-content';
                    document.querySelectorAll('.category-content').forEach(content => {
                        content.classList.remove('active');
                        content.classList.add('hidden');
                    });
                    const categoryContent = document.getElementById(categoryId);
                    if (categoryContent) {
                        categoryContent.classList.remove('hidden');
                        categoryContent.classList.add('active');
                    }
                });
            });
            
            // Home page category cards
            document.querySelectorAll('.category-card[data-category]').forEach(card => {
                card.addEventListener('click', () => {
                    const category = card.getAttribute('data-category');
                    
                    // Navigate to categories page
                    document.querySelectorAll('.nav-link').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    document.querySelector('.nav-link[data-page="categories"]').classList.add('active');
                    
                    document.querySelectorAll('.page-content').forEach(page => {
                        page.classList.remove('active');
                    });
                    document.getElementById('categories-page').classList.add('active');
                    
                    // Select the corresponding category
                    document.querySelectorAll('.category-card[data-category-page]').forEach(c => {
                        c.classList.remove('active');
                        if (c.getAttribute('data-category-page') === category) {
                            c.classList.add('active');
                        }
                    });
                    
                    document.querySelectorAll('.category-content').forEach(content => {
                        content.classList.remove('active');
                        content.classList.add('hidden');
                    });
                    const categoryContent = document.getElementById(category + '-content');
                    if (categoryContent) {
                        categoryContent.classList.remove('hidden');
                        categoryContent.classList.add('active');
                    }
                });
            });
        }
        
        // Library Functionality
        function setupLibrary() {
            document.querySelectorAll('.library-filter').forEach(filter => {
                filter.addEventListener('click', () => {
                    // Update active filter
                    document.querySelectorAll('.library-filter').forEach(f => {
                        f.classList.remove('active');
                    });
                    filter.classList.add('active');
                    
                    // Filter library content
                    // In a real app, this would show/hide elements based on the filter
                });
            });
        }
        
        // Modal Functionality
        function setupModals() {
            // Set up article modals
            document.querySelectorAll('.card[data-article]').forEach(card => {
                card.addEventListener('click', () => {
                    const articleId = card.getAttribute('data-article');
                    const modal = document.getElementById('article-modal-' + articleId);
                    if (modal) {
                        modal.classList.remove('hidden');
                    }
                });
            });
            
            // Close modals
            document.querySelectorAll('.modal-close').forEach(closeBtn => {
                closeBtn.addEventListener('click', () => {
                    const modal = closeBtn.closest('[id^="article-modal"]');
                    if (modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
            
            // Close modals when clicking outside
            document.querySelectorAll('[id^="article-modal"]').forEach(modal => {
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
        }
        
        // Initialize everything on DOM load
        document.addEventListener('DOMContentLoaded', () => {
            loadUserData();
            setupMissionCheckboxes();
            setupAudioPlayers();
            setupBookSummaries();
            setupNavigation();
            setupCategories();
            setupLibrary();
            setupModals();

            if (document.getElementById('current-year')) {
                document.getElementById('current-year').textContent = new Date().getFullYear();
            }
        });
    </script>
</body>
</html>
